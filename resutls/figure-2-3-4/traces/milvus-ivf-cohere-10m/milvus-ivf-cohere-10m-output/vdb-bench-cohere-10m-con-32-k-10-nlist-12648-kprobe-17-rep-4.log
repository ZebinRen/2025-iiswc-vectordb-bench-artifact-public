2025-06-08 22:33:08,433 | [92mINFO[0m: [92mTask:
TaskConfig(db=<DB.Milvus: 'Milvus'>, db_config=MilvusConfig(db_label='milvus_ivf_cohere_10m', version='', note='', uri=SecretStr('**********'), user=None, password=SecretStr(''), num_shards=1), db_case_config=IVFFlatConfig(index=<IndexType.IVFFlat: 'IVF_FLAT'>, metric_type=None, nlist=12648, nprobe=17), case_config=CaseConfig(case_id=<CaseType.Performance768D10M: 4>, custom_case={}, k=10, concurrency_search_config=ConcurrencySearchConfig(num_concurrency=[32], concurrency_duration=30, concurrency_timeout=3600)), stages=['search_serial', 'search_concurrent'])
[0m (cli.py:516) (1397629)
2025-06-08 22:33:08,433 | [92mINFO[0m: [92mgenerated uuid for the tasks: 6c86a75bf8b84faaa640d23cb16053e4[0m (interface.py:72) (1397629)
2025-06-08 22:33:08,560 | INFO | DB             | CaseType     Dataset               Filter | task_label (task_runner.py:340)
2025-06-08 22:33:08,560 | INFO | -----------    | ------------ -------------------- ------- | -------    (task_runner.py:340)
2025-06-08 22:33:08,560 | INFO | Milvus-milvus_ivf_cohere_10m | Performance  Cohere-LARGE-10M        None | 6c86a75bf8b84faaa640d23cb16053e4 (task_runner.py:340)
2025-06-08 22:33:08,560 | [92mINFO[0m: [92mtask submitted: id=6c86a75bf8b84faaa640d23cb16053e4, 6c86a75bf8b84faaa640d23cb16053e4, case number: 1[0m (interface.py:242) (1397629)
2025-06-08 22:33:09,242 | [92mINFO[0m: [92m[1/1] start case: {'label': <CaseLabel.Performance: 2>, 'dataset': {'data': {'name': 'Cohere', 'size': 10000000, 'dim': 768, 'metric_type': <MetricType.COSINE: 'COSINE'>}}, 'db': 'Milvus-milvus_ivf_cohere_10m'}, drop_old=False[0m (interface.py:172) (1397665)
2025-06-08 22:33:09,242 | [92mINFO[0m: [92mStarting run[0m (task_runner.py:105) (1397665)
2025-06-08 22:33:12,290 | [92mINFO[0m: [92mRead the entire file into memory: test.parquet[0m (dataset.py:251) (1397665)
2025-06-08 22:33:12,380 | [92mINFO[0m: [92mRead the entire file into memory: neighbors.parquet[0m (dataset.py:251) (1397665)
2025-06-08 22:33:12,806 | [92mINFO[0m: [92mStart performance case[0m (task_runner.py:147) (1397665)
2025-06-08 22:33:13,562 | [92mINFO[0m: [92mStart search 30s in concurrency 32, filters: None[0m (mp_runner.py:118) (1397665)
2025-06-08 22:33:23,955 | [92mINFO[0m: [92mSyncing all process and start concurrency search, concurrency=32[0m (mp_runner.py:125) (1397665)
2025-06-08 22:33:54,003 | [92mINFO[0m: [92mSpawnProcess-1:9 search 30s: actual_dur=30.0188s, count=188, qps in this process: 6.2627[0m (mp_runner.py:91) (1397839)
2025-06-08 22:33:54,010 | [92mINFO[0m: [92mSpawnProcess-1:32 search 30s: actual_dur=30.022s, count=183, qps in this process: 6.0955[0m (mp_runner.py:91) (1398062)
2025-06-08 22:33:54,029 | [92mINFO[0m: [92mSpawnProcess-1:17 search 30s: actual_dur=30.0271s, count=184, qps in this process: 6.1278[0m (mp_runner.py:91) (1397847)
2025-06-08 22:33:54,034 | [92mINFO[0m: [92mSpawnProcess-1:2 search 30s: actual_dur=30.05s, count=181, qps in this process: 6.0233[0m (mp_runner.py:91) (1397830)
2025-06-08 22:33:54,048 | [92mINFO[0m: [92mSpawnProcess-1:28 search 30s: actual_dur=30.0246s, count=184, qps in this process: 6.1283[0m (mp_runner.py:91) (1397877)
2025-06-08 22:33:54,065 | [92mINFO[0m: [92mSpawnProcess-1:5 search 30s: actual_dur=30.041s, count=185, qps in this process: 6.1583[0m (mp_runner.py:91) (1397835)
2025-06-08 22:33:54,085 | [92mINFO[0m: [92mSpawnProcess-1:8 search 30s: actual_dur=30.102s, count=185, qps in this process: 6.1458[0m (mp_runner.py:91) (1397838)
2025-06-08 22:33:54,086 | [92mINFO[0m: [92mSpawnProcess-1:27 search 30s: actual_dur=30.0921s, count=182, qps in this process: 6.0481[0m (mp_runner.py:91) (1397876)
2025-06-08 22:33:54,092 | [92mINFO[0m: [92mSpawnProcess-1:26 search 30s: actual_dur=30.0967s, count=190, qps in this process: 6.313[0m (mp_runner.py:91) (1397875)
2025-06-08 22:33:54,102 | [92mINFO[0m: [92mSpawnProcess-1:20 search 30s: actual_dur=30.1003s, count=183, qps in this process: 6.0797[0m (mp_runner.py:91) (1397850)
2025-06-08 22:33:54,107 | [92mINFO[0m: [92mSpawnProcess-1:15 search 30s: actual_dur=30.126s, count=182, qps in this process: 6.0413[0m (mp_runner.py:91) (1397845)
2025-06-08 22:33:54,108 | [92mINFO[0m: [92mSpawnProcess-1:14 search 30s: actual_dur=30.1208s, count=185, qps in this process: 6.1419[0m (mp_runner.py:91) (1397844)
2025-06-08 22:33:54,108 | [92mINFO[0m: [92mSpawnProcess-1:30 search 30s: actual_dur=30.1201s, count=185, qps in this process: 6.1421[0m (mp_runner.py:91) (1397974)
2025-06-08 22:33:54,109 | [92mINFO[0m: [92mSpawnProcess-1:4 search 30s: actual_dur=30.1191s, count=183, qps in this process: 6.0759[0m (mp_runner.py:91) (1397834)
2025-06-08 22:33:54,110 | [92mINFO[0m: [92mSpawnProcess-1:21 search 30s: actual_dur=30.1122s, count=186, qps in this process: 6.1769[0m (mp_runner.py:91) (1397851)
2025-06-08 22:33:54,111 | [92mINFO[0m: [92mSpawnProcess-1:24 search 30s: actual_dur=30.1253s, count=182, qps in this process: 6.0414[0m (mp_runner.py:91) (1397854)
2025-06-08 22:33:54,111 | [92mINFO[0m: [92mSpawnProcess-1:31 search 30s: actual_dur=30.0908s, count=185, qps in this process: 6.1481[0m (mp_runner.py:91) (1397994)
2025-06-08 22:33:54,112 | [92mINFO[0m: [92mSpawnProcess-1:10 search 30s: actual_dur=30.1144s, count=185, qps in this process: 6.1432[0m (mp_runner.py:91) (1397840)
2025-06-08 22:33:54,112 | [92mINFO[0m: [92mSpawnProcess-1:3 search 30s: actual_dur=30.089s, count=185, qps in this process: 6.1484[0m (mp_runner.py:91) (1397833)
2025-06-08 22:33:54,113 | [92mINFO[0m: [92mSpawnProcess-1:13 search 30s: actual_dur=30.1298s, count=185, qps in this process: 6.1401[0m (mp_runner.py:91) (1397843)
2025-06-08 22:33:54,113 | [92mINFO[0m: [92mSpawnProcess-1:19 search 30s: actual_dur=30.0897s, count=187, qps in this process: 6.2148[0m (mp_runner.py:91) (1397849)
2025-06-08 22:33:54,114 | [92mINFO[0m: [92mSpawnProcess-1:6 search 30s: actual_dur=30.1192s, count=184, qps in this process: 6.1091[0m (mp_runner.py:91) (1397836)
2025-06-08 22:33:54,115 | [92mINFO[0m: [92mSpawnProcess-1:33 search 30s: actual_dur=30.103s, count=188, qps in this process: 6.2452[0m (mp_runner.py:91) (1398110)
2025-06-08 22:33:54,115 | [92mINFO[0m: [92mSpawnProcess-1:16 search 30s: actual_dur=30.0808s, count=180, qps in this process: 5.9839[0m (mp_runner.py:91) (1397846)
2025-06-08 22:33:54,116 | [92mINFO[0m: [92mSpawnProcess-1:18 search 30s: actual_dur=30.1343s, count=180, qps in this process: 5.9733[0m (mp_runner.py:91) (1397848)
2025-06-08 22:33:54,116 | [92mINFO[0m: [92mSpawnProcess-1:23 search 30s: actual_dur=30.0903s, count=188, qps in this process: 6.2479[0m (mp_runner.py:91) (1397853)
2025-06-08 22:33:54,116 | [92mINFO[0m: [92mSpawnProcess-1:12 search 30s: actual_dur=30.1268s, count=182, qps in this process: 6.0411[0m (mp_runner.py:91) (1397842)
2025-06-08 22:33:54,117 | [92mINFO[0m: [92mSpawnProcess-1:7 search 30s: actual_dur=30.1273s, count=178, qps in this process: 5.9083[0m (mp_runner.py:91) (1397837)
2025-06-08 22:33:54,117 | [92mINFO[0m: [92mSpawnProcess-1:11 search 30s: actual_dur=30.1282s, count=188, qps in this process: 6.24[0m (mp_runner.py:91) (1397841)
2025-06-08 22:33:54,119 | [92mINFO[0m: [92mSpawnProcess-1:25 search 30s: actual_dur=30.0987s, count=180, qps in this process: 5.9803[0m (mp_runner.py:91) (1397855)
2025-06-08 22:33:54,120 | [92mINFO[0m: [92mSpawnProcess-1:22 search 30s: actual_dur=30.0378s, count=179, qps in this process: 5.9592[0m (mp_runner.py:91) (1397852)
2025-06-08 22:33:54,122 | [92mINFO[0m: [92mSpawnProcess-1:29 search 30s: actual_dur=30.096s, count=184, qps in this process: 6.1138[0m (mp_runner.py:91) (1397916)
2025-06-08 22:33:54,127 | [92mINFO[0m: [92mEnd search in concurrency 32: dur=30.170696385001065s, total_count=5886, qps=195.09[0m (mp_runner.py:139) (1397665)
2025-06-08 22:33:54,697 | [92mINFO[0m: [92mUpdate largest qps with concurrency 32: current max_qps=195.09[0m (mp_runner.py:143) (1397665)
2025-06-08 22:33:55,801 | [92mINFO[0m: [92mSpawnProcess-1:34 start search the entire test_data to get recall and latency[0m (serial_runner.py:206) (1400454)
2025-06-08 22:34:05,391 | [92mINFO[0m: [92mSpawnProcess-1:34 search entire test_data: cost=8.0828s, queries=1000, avg_recall=0.9012, avg_ndcg=0.9117,avg_latency=0.0081, p99=0.0093[0m (serial_runner.py:251) (1400454)
2025-06-08 22:34:05,552 | [92mINFO[0m: [92mPerformance case got result: Metric(max_load_count=0, load_duration=0.0, qps=195.09, serial_latency_p99=np.float64(0.0093), recall=np.float64(0.9012), ndcg=np.float64(0.9117), conc_num_list=[32], conc_qps_list=[195.09], conc_latency_p99_list=[np.float64(0.26437458415348336)], conc_latency_avg_list=[np.float64(0.16355527111666476)])[0m (task_runner.py:186) (1397665)
2025-06-08 22:34:05,553 | [92mINFO[0m: [92m[1/1] finish case: {'label': <CaseLabel.Performance: 2>, 'dataset': {'data': {'name': 'Cohere', 'size': 10000000, 'dim': 768, 'metric_type': <MetricType.COSINE: 'COSINE'>}}, 'db': 'Milvus-milvus_ivf_cohere_10m'}, result=Metric(max_load_count=0, load_duration=0.0, qps=195.09, serial_latency_p99=np.float64(0.0093), recall=np.float64(0.9012), ndcg=np.float64(0.9117), conc_num_list=[32], conc_qps_list=[195.09], conc_latency_p99_list=[np.float64(0.26437458415348336)], conc_latency_avg_list=[np.float64(0.16355527111666476)]), label=ResultLabel.NORMAL[0m (interface.py:174) (1397665)
2025-06-08 22:34:05,553 | INFO |Task summary: run_id=6c86a, task_label=6c86a75bf8b84faaa640d23cb16053e4 (models.py:375)
2025-06-08 22:34:05,553 | INFO |DB     | db_label                 case               label                            | load_dur    qps        latency(p99)    recall        max_load_count | label (models.py:375)
2025-06-08 22:34:05,553 | INFO |------ | ------------------------ ------------------ -------------------------------- | ----------- ---------- --------------- ------------- -------------- | ----- (models.py:375)
2025-06-08 22:34:05,553 | INFO |Milvus | milvus_ivf_cohere_10m    Performance768D10M 6c86a75bf8b84faaa640d23cb16053e4 | 0.0         195.09     0.0093          0.9012        0              | :)    (models.py:375)
2025-06-08 22:34:05,553 | [92mINFO[0m: [92mwrite results to disk /home/zebin/2025-vectordb-bench-new/VectorDBBench-dev/vectordb_bench/results/Milvus/result_20250608_6c86a75bf8b84faaa640d23cb16053e4_milvus.json[0m (models.py:243) (1397665)
2025-06-08 22:34:05,554 | [92mINFO[0m: [92mSuccess to finish task: label=6c86a75bf8b84faaa640d23cb16053e4, run_id=6c86a75bf8b84faaa640d23cb16053e4[0m (interface.py:213) (1397665)
