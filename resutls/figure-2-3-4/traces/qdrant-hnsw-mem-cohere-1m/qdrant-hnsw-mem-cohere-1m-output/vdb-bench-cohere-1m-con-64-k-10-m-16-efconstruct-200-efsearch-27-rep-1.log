2025-06-12 14:56:21,963 | [92mINFO[0m: [92mTask:
TaskConfig(db=<DB.QdrantLocal: 'QdrantLocal'>, db_config=QdrantLocalConfig(db_label='', version='', note='', url=SecretStr('**********')), db_case_config=QdrantLocalIndexConfig(metric_type=None, m=16, ef_construct=200, hnsw_ef=27, on_disk=False), case_config=CaseConfig(case_id=<CaseType.Performance768D1M: 5>, custom_case={}, k=10, concurrency_search_config=ConcurrencySearchConfig(num_concurrency=[64], concurrency_duration=30, concurrency_timeout=3600)), stages=['search_serial', 'search_concurrent'])
[0m (cli.py:516) (3934951)
2025-06-12 14:56:21,963 | [92mINFO[0m: [92mgenerated uuid for the tasks: df330ba0bc04426aa4f4816aa59c85d3[0m (interface.py:72) (3934951)
2025-06-12 14:56:22,527 | INFO | DB             | CaseType     Dataset               Filter | task_label (task_runner.py:340)
2025-06-12 14:56:22,527 | INFO | -----------    | ------------ -------------------- ------- | -------    (task_runner.py:340)
2025-06-12 14:56:22,528 | INFO | QdrantLocal    | Performance  Cohere-MEDIUM-1M        None | df330ba0bc04426aa4f4816aa59c85d3 (task_runner.py:340)
2025-06-12 14:56:22,528 | [92mINFO[0m: [92mtask submitted: id=df330ba0bc04426aa4f4816aa59c85d3, df330ba0bc04426aa4f4816aa59c85d3, case number: 1[0m (interface.py:242) (3934951)
2025-06-12 14:56:23,243 | [92mINFO[0m: [92m[1/1] start case: {'label': <CaseLabel.Performance: 2>, 'dataset': {'data': {'name': 'Cohere', 'size': 1000000, 'dim': 768, 'metric_type': <MetricType.COSINE: 'COSINE'>}}, 'db': 'QdrantLocal'}, drop_old=False[0m (interface.py:172) (3935007)
2025-06-12 14:56:23,243 | [92mINFO[0m: [92mStarting run[0m (task_runner.py:105) (3935007)
2025-06-12 14:56:23,849 | [92mINFO[0m: [92mCase config: {'distance': 'Cosine', 'm': 16, 'ef_construct': 200, 'on_disk': False}[0m (qdrant_local.py:66) (3935007)
2025-06-12 14:56:23,849 | [92mINFO[0m: [92mSearch parameter: {'exact': False, 'hnsw_ef': 27}[0m (qdrant_local.py:67) (3935007)
2025-06-12 14:56:25,289 | [92mINFO[0m: [92mRead the entire file into memory: test.parquet[0m (dataset.py:251) (3935007)
2025-06-12 14:56:25,408 | [92mINFO[0m: [92mRead the entire file into memory: neighbors.parquet[0m (dataset.py:251) (3935007)
2025-06-12 14:56:25,497 | [92mINFO[0m: [92mStart performance case[0m (task_runner.py:147) (3935007)
2025-06-12 14:56:26,286 | [92mINFO[0m: [92mStart search 30s in concurrency 64, filters: None[0m (mp_runner.py:118) (3935007)
2025-06-12 14:56:37,366 | [92mINFO[0m: [92mSyncing all process and start concurrency search, concurrency=64[0m (mp_runner.py:125) (3935007)
2025-06-12 14:57:07,612 | [92mINFO[0m: [92mSpawnProcess-1:9 search 30s: actual_dur=30.026s, count=1384, qps in this process: 46.0934[0m (mp_runner.py:91) (3935227)
2025-06-12 14:57:07,621 | [92mINFO[0m: [92mSpawnProcess-1:36 search 30s: actual_dur=30.024s, count=1379, qps in this process: 45.9299[0m (mp_runner.py:91) (3935469)
2025-06-12 14:57:07,676 | [92mINFO[0m: [92mSpawnProcess-1:44 search 30s: actual_dur=30.0093s, count=1362, qps in this process: 45.3859[0m (mp_runner.py:91) (3935557)
2025-06-12 14:57:07,686 | [92mINFO[0m: [92mSpawnProcess-1:35 search 30s: actual_dur=30.0333s, count=1374, qps in this process: 45.7492[0m (mp_runner.py:91) (3935430)
2025-06-12 14:57:07,690 | [92mINFO[0m: [92mSpawnProcess-1:45 search 30s: actual_dur=30.0219s, count=1371, qps in this process: 45.6667[0m (mp_runner.py:91) (3935562)
2025-06-12 14:57:07,694 | [92mINFO[0m: [92mSpawnProcess-1:17 search 30s: actual_dur=30.0282s, count=1400, qps in this process: 46.6228[0m (mp_runner.py:91) (3935235)
2025-06-12 14:57:07,698 | [92mINFO[0m: [92mSpawnProcess-1:6 search 30s: actual_dur=30.02s, count=1374, qps in this process: 45.7695[0m (mp_runner.py:91) (3935224)
2025-06-12 14:57:07,699 | [92mINFO[0m: [92mSpawnProcess-1:10 search 30s: actual_dur=30.0055s, count=1389, qps in this process: 46.2915[0m (mp_runner.py:91) (3935228)
2025-06-12 14:57:07,717 | [92mINFO[0m: [92mSpawnProcess-1:33 search 30s: actual_dur=30.0274s, count=1390, qps in this process: 46.2911[0m (mp_runner.py:91) (3935368)
2025-06-12 14:57:07,727 | [92mINFO[0m: [92mSpawnProcess-1:2 search 30s: actual_dur=30.0247s, count=1387, qps in this process: 46.1953[0m (mp_runner.py:91) (3935218)
2025-06-12 14:57:07,732 | [92mINFO[0m: [92mSpawnProcess-1:11 search 30s: actual_dur=30.0111s, count=1395, qps in this process: 46.4828[0m (mp_runner.py:91) (3935229)
2025-06-12 14:57:07,734 | [92mINFO[0m: [92mSpawnProcess-1:3 search 30s: actual_dur=30.0314s, count=1376, qps in this process: 45.8187[0m (mp_runner.py:91) (3935221)
2025-06-12 14:57:07,739 | [92mINFO[0m: [92mSpawnProcess-1:21 search 30s: actual_dur=30.0092s, count=1381, qps in this process: 46.0192[0m (mp_runner.py:91) (3935239)
2025-06-12 14:57:07,750 | [92mINFO[0m: [92mSpawnProcess-1:26 search 30s: actual_dur=30.0206s, count=1384, qps in this process: 46.1017[0m (mp_runner.py:91) (3935301)
2025-06-12 14:57:07,756 | [92mINFO[0m: [92mSpawnProcess-1:48 search 30s: actual_dur=30.0213s, count=1401, qps in this process: 46.6669[0m (mp_runner.py:91) (3935567)
2025-06-12 14:57:07,763 | [92mINFO[0m: [92mSpawnProcess-1:38 search 30s: actual_dur=30.0098s, count=1376, qps in this process: 45.8517[0m (mp_runner.py:91) (3935528)
2025-06-12 14:57:07,764 | [92mINFO[0m: [92mSpawnProcess-1:28 search 30s: actual_dur=30.0138s, count=1387, qps in this process: 46.2121[0m (mp_runner.py:91) (3935303)
2025-06-12 14:57:07,766 | [92mINFO[0m: [92mSpawnProcess-1:4 search 30s: actual_dur=30.016s, count=1399, qps in this process: 46.6085[0m (mp_runner.py:91) (3935222)
2025-06-12 14:57:07,769 | [92mINFO[0m: [92mSpawnProcess-1:18 search 30s: actual_dur=30.0127s, count=1404, qps in this process: 46.7802[0m (mp_runner.py:91) (3935236)
2025-06-12 14:57:07,780 | [92mINFO[0m: [92mSpawnProcess-1:27 search 30s: actual_dur=30.0154s, count=1375, qps in this process: 45.8098[0m (mp_runner.py:91) (3935302)
2025-06-12 14:57:07,783 | [92mINFO[0m: [92mSpawnProcess-1:41 search 30s: actual_dur=30.0221s, count=1392, qps in this process: 46.3658[0m (mp_runner.py:91) (3935550)
2025-06-12 14:57:07,783 | [92mINFO[0m: [92mSpawnProcess-1:55 search 30s: actual_dur=30.0112s, count=1384, qps in this process: 46.1161[0m (mp_runner.py:91) (3935644)
2025-06-12 14:57:07,783 | [92mINFO[0m: [92mSpawnProcess-1:31 search 30s: actual_dur=30.0087s, count=1394, qps in this process: 46.4532[0m (mp_runner.py:91) (3935306)
2025-06-12 14:57:07,785 | [92mINFO[0m: [92mSpawnProcess-1:43 search 30s: actual_dur=30.0158s, count=1378, qps in this process: 45.9092[0m (mp_runner.py:91) (3935554)
2025-06-12 14:57:07,786 | [92mINFO[0m: [92mSpawnProcess-1:7 search 30s: actual_dur=30.0174s, count=1384, qps in this process: 46.1066[0m (mp_runner.py:91) (3935225)
2025-06-12 14:57:07,790 | [92mINFO[0m: [92mSpawnProcess-1:56 search 30s: actual_dur=30.0265s, count=1398, qps in this process: 46.5589[0m (mp_runner.py:91) (3935645)
2025-06-12 14:57:07,791 | [92mINFO[0m: [92mSpawnProcess-1:32 search 30s: actual_dur=30.0226s, count=1387, qps in this process: 46.1985[0m (mp_runner.py:91) (3935308)
2025-06-12 14:57:07,796 | [92mINFO[0m: [92mSpawnProcess-1:62 search 30s: actual_dur=30.0121s, count=1381, qps in this process: 46.0148[0m (mp_runner.py:91) (3935716)
2025-06-12 14:57:07,796 | [92mINFO[0m: [92mSpawnProcess-1:12 search 30s: actual_dur=30.0084s, count=1387, qps in this process: 46.2204[0m (mp_runner.py:91) (3935230)
2025-06-12 14:57:07,803 | [92mINFO[0m: [92mSpawnProcess-1:5 search 30s: actual_dur=30.0181s, count=1381, qps in this process: 46.0056[0m (mp_runner.py:91) (3935223)
2025-06-12 14:57:07,805 | [92mINFO[0m: [92mSpawnProcess-1:61 search 30s: actual_dur=30.017s, count=1388, qps in this process: 46.2405[0m (mp_runner.py:91) (3935714)
2025-06-12 14:57:07,808 | [92mINFO[0m: [92mSpawnProcess-1:34 search 30s: actual_dur=30.0289s, count=1390, qps in this process: 46.2887[0m (mp_runner.py:91) (3935408)
2025-06-12 14:57:07,809 | [92mINFO[0m: [92mSpawnProcess-1:54 search 30s: actual_dur=30.031s, count=1387, qps in this process: 46.1856[0m (mp_runner.py:91) (3935643)
2025-06-12 14:57:07,809 | [92mINFO[0m: [92mSpawnProcess-1:22 search 30s: actual_dur=30.0307s, count=1386, qps in this process: 46.1528[0m (mp_runner.py:91) (3935240)
2025-06-12 14:57:07,810 | [92mINFO[0m: [92mSpawnProcess-1:40 search 30s: actual_dur=30.0363s, count=1376, qps in this process: 45.8112[0m (mp_runner.py:91) (3935549)
2025-06-12 14:57:07,816 | [92mINFO[0m: [92mSpawnProcess-1:47 search 30s: actual_dur=30.021s, count=1389, qps in this process: 46.2676[0m (mp_runner.py:91) (3935565)
2025-06-12 14:57:07,819 | [92mINFO[0m: [92mSpawnProcess-1:42 search 30s: actual_dur=30.0157s, count=1383, qps in this process: 46.0759[0m (mp_runner.py:91) (3935551)
2025-06-12 14:57:07,819 | [92mINFO[0m: [92mSpawnProcess-1:14 search 30s: actual_dur=30.0189s, count=1392, qps in this process: 46.3708[0m (mp_runner.py:91) (3935232)
2025-06-12 14:57:07,820 | [92mINFO[0m: [92mSpawnProcess-1:15 search 30s: actual_dur=30.0254s, count=1382, qps in this process: 46.0277[0m (mp_runner.py:91) (3935233)
2025-06-12 14:57:07,822 | [92mINFO[0m: [92mSpawnProcess-1:23 search 30s: actual_dur=30.0116s, count=1376, qps in this process: 45.8489[0m (mp_runner.py:91) (3935241)
2025-06-12 14:57:07,823 | [92mINFO[0m: [92mSpawnProcess-1:39 search 30s: actual_dur=30.0174s, count=1382, qps in this process: 46.04[0m (mp_runner.py:91) (3935548)
2025-06-12 14:57:07,824 | [92mINFO[0m: [92mSpawnProcess-1:37 search 30s: actual_dur=30.0051s, count=1373, qps in this process: 45.7589[0m (mp_runner.py:91) (3935514)
2025-06-12 14:57:07,824 | [92mINFO[0m: [92mSpawnProcess-1:25 search 30s: actual_dur=30.0129s, count=1381, qps in this process: 46.0135[0m (mp_runner.py:91) (3935262)
2025-06-12 14:57:07,821 | [92mINFO[0m: [92mSpawnProcess-1:24 search 30s: actual_dur=30.0073s, count=1377, qps in this process: 45.8888[0m (mp_runner.py:91) (3935242)
2025-06-12 14:57:07,827 | [92mINFO[0m: [92mSpawnProcess-1:29 search 30s: actual_dur=30.0156s, count=1387, qps in this process: 46.2093[0m (mp_runner.py:91) (3935304)
2025-06-12 14:57:07,840 | [92mINFO[0m: [92mSpawnProcess-1:30 search 30s: actual_dur=30.0083s, count=1397, qps in this process: 46.5538[0m (mp_runner.py:91) (3935305)
2025-06-12 14:57:07,840 | [92mINFO[0m: [92mSpawnProcess-1:16 search 30s: actual_dur=30.0167s, count=1397, qps in this process: 46.5408[0m (mp_runner.py:91) (3935234)
2025-06-12 14:57:07,840 | [92mINFO[0m: [92mSpawnProcess-1:20 search 30s: actual_dur=30.0166s, count=1382, qps in this process: 46.0412[0m (mp_runner.py:91) (3935238)
2025-06-12 14:57:07,843 | [92mINFO[0m: [92mSpawnProcess-1:60 search 30s: actual_dur=30.0053s, count=1386, qps in this process: 46.1918[0m (mp_runner.py:91) (3935700)
2025-06-12 14:57:07,852 | [92mINFO[0m: [92mSpawnProcess-1:63 search 30s: actual_dur=30.0066s, count=1390, qps in this process: 46.3231[0m (mp_runner.py:91) (3935717)
2025-06-12 14:57:07,856 | [92mINFO[0m: [92mSpawnProcess-1:19 search 30s: actual_dur=30.0105s, count=1392, qps in this process: 46.3838[0m (mp_runner.py:91) (3935237)
2025-06-12 14:57:07,868 | [92mINFO[0m: [92mSpawnProcess-1:64 search 30s: actual_dur=30.0101s, count=1385, qps in this process: 46.1511[0m (mp_runner.py:91) (3935718)
2025-06-12 14:57:07,871 | [92mINFO[0m: [92mSpawnProcess-1:46 search 30s: actual_dur=30.0071s, count=1396, qps in this process: 46.5223[0m (mp_runner.py:91) (3935563)
2025-06-12 14:57:07,881 | [92mINFO[0m: [92mSpawnProcess-1:8 search 30s: actual_dur=30.0052s, count=1378, qps in this process: 45.9254[0m (mp_runner.py:91) (3935226)
2025-06-12 14:57:07,885 | [92mINFO[0m: [92mSpawnProcess-1:57 search 30s: actual_dur=30.0095s, count=1383, qps in this process: 46.0854[0m (mp_runner.py:91) (3935648)
2025-06-12 14:57:07,886 | [92mINFO[0m: [92mSpawnProcess-1:13 search 30s: actual_dur=30.003s, count=1401, qps in this process: 46.6953[0m (mp_runner.py:91) (3935231)
2025-06-12 14:57:07,886 | [92mINFO[0m: [92mSpawnProcess-1:53 search 30s: actual_dur=30.0027s, count=1394, qps in this process: 46.4625[0m (mp_runner.py:91) (3935637)
2025-06-12 14:57:07,890 | [92mINFO[0m: [92mSpawnProcess-1:50 search 30s: actual_dur=30.007s, count=1399, qps in this process: 46.6225[0m (mp_runner.py:91) (3935631)
2025-06-12 14:57:07,890 | [92mINFO[0m: [92mSpawnProcess-1:51 search 30s: actual_dur=30.0047s, count=1381, qps in this process: 46.0261[0m (mp_runner.py:91) (3935633)
2025-06-12 14:57:07,896 | [92mINFO[0m: [92mSpawnProcess-1:58 search 30s: actual_dur=30.0059s, count=1396, qps in this process: 46.5242[0m (mp_runner.py:91) (3935688)
2025-06-12 14:57:07,896 | [92mINFO[0m: [92mSpawnProcess-1:65 search 30s: actual_dur=30.0062s, count=1393, qps in this process: 46.4237[0m (mp_runner.py:91) (3935720)
2025-06-12 14:57:07,897 | [92mINFO[0m: [92mSpawnProcess-1:52 search 30s: actual_dur=30.0074s, count=1411, qps in this process: 47.0217[0m (mp_runner.py:91) (3935636)
2025-06-12 14:57:07,906 | [92mINFO[0m: [92mSpawnProcess-1:49 search 30s: actual_dur=30.0028s, count=1387, qps in this process: 46.229[0m (mp_runner.py:91) (3935609)
2025-06-12 14:57:07,910 | [92mINFO[0m: [92mSpawnProcess-1:59 search 30s: actual_dur=30.0033s, count=1375, qps in this process: 45.8283[0m (mp_runner.py:91) (3935698)
2025-06-12 14:57:07,934 | [92mINFO[0m: [92mEnd search in concurrency 64: dur=30.567498882999644s, total_count=88726, qps=2902.6254[0m (mp_runner.py:139) (3935007)
2025-06-12 14:57:09,070 | [92mINFO[0m: [92mUpdate largest qps with concurrency 64: current max_qps=2902.6254[0m (mp_runner.py:143) (3935007)
2025-06-12 14:57:10,224 | [92mINFO[0m: [92mSpawnProcess-1:66 start search the entire test_data to get recall and latency[0m (serial_runner.py:206) (3939314)
2025-06-12 14:57:23,461 | [92mINFO[0m: [92mSpawnProcess-1:66 search entire test_data: cost=9.0906s, queries=1000, avg_recall=0.9117, avg_ndcg=0.9109,avg_latency=0.0091, p99=0.0115[0m (serial_runner.py:251) (3939314)
2025-06-12 14:57:23,735 | [92mINFO[0m: [92mPerformance case got result: Metric(max_load_count=0, load_duration=0.0, qps=2902.6254, serial_latency_p99=np.float64(0.0115), recall=np.float64(0.9117), ndcg=np.float64(0.9109), conc_num_list=[64], conc_qps_list=[2902.6254], conc_latency_p99_list=[np.float64(0.037351851249695756)], conc_latency_avg_list=[np.float64(0.02164013715930411)])[0m (task_runner.py:186) (3935007)
2025-06-12 14:57:23,735 | [92mINFO[0m: [92m[1/1] finish case: {'label': <CaseLabel.Performance: 2>, 'dataset': {'data': {'name': 'Cohere', 'size': 1000000, 'dim': 768, 'metric_type': <MetricType.COSINE: 'COSINE'>}}, 'db': 'QdrantLocal'}, result=Metric(max_load_count=0, load_duration=0.0, qps=2902.6254, serial_latency_p99=np.float64(0.0115), recall=np.float64(0.9117), ndcg=np.float64(0.9109), conc_num_list=[64], conc_qps_list=[2902.6254], conc_latency_p99_list=[np.float64(0.037351851249695756)], conc_latency_avg_list=[np.float64(0.02164013715930411)]), label=ResultLabel.NORMAL[0m (interface.py:174) (3935007)
2025-06-12 14:57:23,736 | INFO |Task summary: run_id=df330, task_label=df330ba0bc04426aa4f4816aa59c85d3 (models.py:375)
2025-06-12 14:57:23,736 | INFO |DB          | db_label case              label                            | load_dur    qps          latency(p99)    recall        max_load_count | label (models.py:375)
2025-06-12 14:57:23,736 | INFO |----------- | -------- ----------------- -------------------------------- | ----------- ------------ --------------- ------------- -------------- | ----- (models.py:375)
2025-06-12 14:57:23,736 | INFO |QdrantLocal |          Performance768D1M df330ba0bc04426aa4f4816aa59c85d3 | 0.0         2902.6254    0.0115          0.9117        0              | :)    (models.py:375)
2025-06-12 14:57:23,736 | [92mINFO[0m: [92mwrite results to disk /home/zebin/2025-vectordb-bench-new/VectorDBBench-dev/vectordb_bench/results/QdrantLocal/result_20250612_df330ba0bc04426aa4f4816aa59c85d3_qdrantlocal.json[0m (models.py:243) (3935007)
2025-06-12 14:57:23,738 | [92mINFO[0m: [92mSuccess to finish task: label=df330ba0bc04426aa4f4816aa59c85d3, run_id=df330ba0bc04426aa4f4816aa59c85d3[0m (interface.py:213) (3935007)
