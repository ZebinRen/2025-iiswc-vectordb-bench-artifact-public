2025-06-12 16:17:29,346 | [92mINFO[0m: [92mTask:
TaskConfig(db=<DB.QdrantLocal: 'QdrantLocal'>, db_config=QdrantLocalConfig(db_label='', version='', note='', url=SecretStr('**********'), grpc_port=6336), db_case_config=QdrantLocalIndexConfig(metric_type=None, m=16, ef_construct=200, hnsw_ef=43, on_disk=False), case_config=CaseConfig(case_id=<CaseType.Performance768D10M: 4>, custom_case={}, k=10, concurrency_search_config=ConcurrencySearchConfig(num_concurrency=[64], concurrency_duration=30, concurrency_timeout=3600)), stages=['search_serial', 'search_concurrent'])
[0m (cli.py:516) (4188376)
2025-06-12 16:17:29,346 | [92mINFO[0m: [92mgenerated uuid for the tasks: 6bdd4d1ae2854ca08bcd212d18d9b03b[0m (interface.py:72) (4188376)
2025-06-12 16:17:29,881 | INFO | DB             | CaseType     Dataset               Filter | task_label (task_runner.py:340)
2025-06-12 16:17:29,881 | INFO | -----------    | ------------ -------------------- ------- | -------    (task_runner.py:340)
2025-06-12 16:17:29,881 | INFO | QdrantLocal    | Performance  Cohere-LARGE-10M        None | 6bdd4d1ae2854ca08bcd212d18d9b03b (task_runner.py:340)
2025-06-12 16:17:29,881 | [92mINFO[0m: [92mtask submitted: id=6bdd4d1ae2854ca08bcd212d18d9b03b, 6bdd4d1ae2854ca08bcd212d18d9b03b, case number: 1[0m (interface.py:242) (4188376)
2025-06-12 16:17:30,603 | [92mINFO[0m: [92m[1/1] start case: {'label': <CaseLabel.Performance: 2>, 'dataset': {'data': {'name': 'Cohere', 'size': 10000000, 'dim': 768, 'metric_type': <MetricType.COSINE: 'COSINE'>}}, 'db': 'QdrantLocal'}, drop_old=False[0m (interface.py:172) (4188432)
2025-06-12 16:17:30,604 | [92mINFO[0m: [92mStarting run[0m (task_runner.py:105) (4188432)
2025-06-12 16:17:31,067 | [92mINFO[0m: [92mDB config: {'url': 'http://localhost:6335', 'grpc_port': 6336}[0m (qdrant_local.py:63) (4188432)
2025-06-12 16:17:31,215 | [92mINFO[0m: [92mCase config: {'distance': 'Cosine', 'm': 16, 'ef_construct': 200, 'on_disk': False}[0m (qdrant_local.py:67) (4188432)
2025-06-12 16:17:31,215 | [92mINFO[0m: [92mSearch parameter: {'exact': False, 'hnsw_ef': 43}[0m (qdrant_local.py:68) (4188432)
2025-06-12 16:17:34,101 | [92mINFO[0m: [92mRead the entire file into memory: test.parquet[0m (dataset.py:251) (4188432)
2025-06-12 16:17:34,207 | [92mINFO[0m: [92mRead the entire file into memory: neighbors.parquet[0m (dataset.py:251) (4188432)
2025-06-12 16:17:34,657 | [92mINFO[0m: [92mStart performance case[0m (task_runner.py:147) (4188432)
2025-06-12 16:17:35,443 | [92mINFO[0m: [92mStart search 30s in concurrency 64, filters: None[0m (mp_runner.py:118) (4188432)
2025-06-12 16:17:46,442 | [92mINFO[0m: [92mSyncing all process and start concurrency search, concurrency=64[0m (mp_runner.py:125) (4188432)
2025-06-12 16:18:16,698 | [92mINFO[0m: [92mSpawnProcess-1:58 search 30s: actual_dur=30.0392s, count=458, qps in this process: 15.2467[0m (mp_runner.py:91) (4189153)
2025-06-12 16:18:16,722 | [92mINFO[0m: [92mSpawnProcess-1:14 search 30s: actual_dur=30.063s, count=461, qps in this process: 15.3345[0m (mp_runner.py:91) (4188693)
2025-06-12 16:18:16,734 | [92mINFO[0m: [92mSpawnProcess-1:18 search 30s: actual_dur=30.0626s, count=463, qps in this process: 15.4012[0m (mp_runner.py:91) (4188697)
2025-06-12 16:18:16,735 | [92mINFO[0m: [92mSpawnProcess-1:17 search 30s: actual_dur=30.0124s, count=462, qps in this process: 15.3936[0m (mp_runner.py:91) (4188696)
2025-06-12 16:18:16,802 | [92mINFO[0m: [92mSpawnProcess-1:40 search 30s: actual_dur=30.0289s, count=457, qps in this process: 15.2187[0m (mp_runner.py:91) (4189014)
2025-06-12 16:18:16,810 | [92mINFO[0m: [92mSpawnProcess-1:22 search 30s: actual_dur=30.0303s, count=457, qps in this process: 15.218[0m (mp_runner.py:91) (4188701)
2025-06-12 16:18:16,824 | [92mINFO[0m: [92mSpawnProcess-1:6 search 30s: actual_dur=30.0352s, count=463, qps in this process: 15.4152[0m (mp_runner.py:91) (4188685)
2025-06-12 16:18:16,830 | [92mINFO[0m: [92mSpawnProcess-1:52 search 30s: actual_dur=30.0214s, count=465, qps in this process: 15.489[0m (mp_runner.py:91) (4189101)
2025-06-12 16:18:16,830 | [92mINFO[0m: [92mSpawnProcess-1:29 search 30s: actual_dur=30.017s, count=461, qps in this process: 15.358[0m (mp_runner.py:91) (4188765)
2025-06-12 16:18:16,837 | [92mINFO[0m: [92mSpawnProcess-1:3 search 30s: actual_dur=30.0402s, count=457, qps in this process: 15.2129[0m (mp_runner.py:91) (4188682)
2025-06-12 16:18:16,839 | [92mINFO[0m: [92mSpawnProcess-1:38 search 30s: actual_dur=30.0264s, count=463, qps in this process: 15.4198[0m (mp_runner.py:91) (4189011)
2025-06-12 16:18:16,843 | [92mINFO[0m: [92mSpawnProcess-1:26 search 30s: actual_dur=30.0325s, count=465, qps in this process: 15.4832[0m (mp_runner.py:91) (4188743)
2025-06-12 16:18:16,850 | [92mINFO[0m: [92mSpawnProcess-1:43 search 30s: actual_dur=30.0432s, count=463, qps in this process: 15.4111[0m (mp_runner.py:91) (4189019)
2025-06-12 16:18:16,856 | [92mINFO[0m: [92mSpawnProcess-1:4 search 30s: actual_dur=30.042s, count=457, qps in this process: 15.212[0m (mp_runner.py:91) (4188683)
2025-06-12 16:18:16,858 | [92mINFO[0m: [92mSpawnProcess-1:12 search 30s: actual_dur=30.032s, count=462, qps in this process: 15.3836[0m (mp_runner.py:91) (4188691)
2025-06-12 16:18:16,852 | [92mINFO[0m: [92mSpawnProcess-1:15 search 30s: actual_dur=30.042s, count=464, qps in this process: 15.445[0m (mp_runner.py:91) (4188694)
2025-06-12 16:18:16,859 | [92mINFO[0m: [92mSpawnProcess-1:23 search 30s: actual_dur=30.0289s, count=461, qps in this process: 15.3519[0m (mp_runner.py:91) (4188702)
2025-06-12 16:18:16,859 | [92mINFO[0m: [92mSpawnProcess-1:27 search 30s: actual_dur=30.0282s, count=465, qps in this process: 15.4854[0m (mp_runner.py:91) (4188763)
2025-06-12 16:18:16,860 | [92mINFO[0m: [92mSpawnProcess-1:11 search 30s: actual_dur=30.0524s, count=462, qps in this process: 15.3731[0m (mp_runner.py:91) (4188690)
WARNING: All log messages before absl::InitializeLog() is called are written to STDERR
E0000 00:00:1749745096.860857 4188699 backup_poller.cc:112] run_poller: UNKNOWN:Timer list shutdown {created_time:"2025-06-12T16:18:16.860836591+00:00"}
2025-06-12 16:18:16,861 | [92mINFO[0m: [92mSpawnProcess-1:13 search 30s: actual_dur=30.0401s, count=466, qps in this process: 15.5126[0m (mp_runner.py:91) (4188692)
2025-06-12 16:18:16,861 | [92mINFO[0m: [92mSpawnProcess-1:49 search 30s: actual_dur=30.0115s, count=466, qps in this process: 15.5274[0m (mp_runner.py:91) (4189056)
2025-06-12 16:18:16,865 | [92mINFO[0m: [92mSpawnProcess-1:48 search 30s: actual_dur=30.0156s, count=462, qps in this process: 15.392[0m (mp_runner.py:91) (4189027)
2025-06-12 16:18:16,865 | [92mINFO[0m: [92mSpawnProcess-1:8 search 30s: actual_dur=30.034s, count=466, qps in this process: 15.5157[0m (mp_runner.py:91) (4188687)
2025-06-12 16:18:16,866 | [92mINFO[0m: [92mSpawnProcess-1:20 search 30s: actual_dur=30.0503s, count=466, qps in this process: 15.5073[0m (mp_runner.py:91) (4188699)
2025-06-12 16:18:16,868 | [92mINFO[0m: [92mSpawnProcess-1:51 search 30s: actual_dur=30.0613s, count=467, qps in this process: 15.5349[0m (mp_runner.py:91) (4189099)
2025-06-12 16:18:16,870 | [92mINFO[0m: [92mSpawnProcess-1:7 search 30s: actual_dur=30.0599s, count=460, qps in this process: 15.3028[0m (mp_runner.py:91) (4188686)
2025-06-12 16:18:16,871 | [92mINFO[0m: [92mSpawnProcess-1:33 search 30s: actual_dur=30.0089s, count=466, qps in this process: 15.5287[0m (mp_runner.py:91) (4188864)
2025-06-12 16:18:16,874 | [92mINFO[0m: [92mSpawnProcess-1:37 search 30s: actual_dur=30.0676s, count=466, qps in this process: 15.4984[0m (mp_runner.py:91) (4189010)
2025-06-12 16:18:16,874 | [92mINFO[0m: [92mSpawnProcess-1:41 search 30s: actual_dur=30.0279s, count=462, qps in this process: 15.3857[0m (mp_runner.py:91) (4189016)
2025-06-12 16:18:16,889 | [92mINFO[0m: [92mSpawnProcess-1:5 search 30s: actual_dur=30.0835s, count=461, qps in this process: 15.324[0m (mp_runner.py:91) (4188684)
2025-06-12 16:18:16,894 | [92mINFO[0m: [92mSpawnProcess-1:30 search 30s: actual_dur=30.0382s, count=462, qps in this process: 15.3804[0m (mp_runner.py:91) (4188766)
2025-06-12 16:18:16,900 | [92mINFO[0m: [92mSpawnProcess-1:35 search 30s: actual_dur=30.0154s, count=466, qps in this process: 15.5254[0m (mp_runner.py:91) (4188978)
2025-06-12 16:18:16,903 | [92mINFO[0m: [92mSpawnProcess-1:56 search 30s: actual_dur=30.0237s, count=460, qps in this process: 15.3212[0m (mp_runner.py:91) (4189109)
2025-06-12 16:18:16,906 | [92mINFO[0m: [92mSpawnProcess-1:10 search 30s: actual_dur=30.028s, count=463, qps in this process: 15.4189[0m (mp_runner.py:91) (4188689)
2025-06-12 16:18:16,910 | [92mINFO[0m: [92mSpawnProcess-1:62 search 30s: actual_dur=30.0554s, count=462, qps in this process: 15.3716[0m (mp_runner.py:91) (4189158)
2025-06-12 16:18:16,911 | [92mINFO[0m: [92mSpawnProcess-1:44 search 30s: actual_dur=30.0385s, count=460, qps in this process: 15.3137[0m (mp_runner.py:91) (4189020)
2025-06-12 16:18:16,914 | [92mINFO[0m: [92mSpawnProcess-1:45 search 30s: actual_dur=30.0238s, count=459, qps in this process: 15.2879[0m (mp_runner.py:91) (4189022)
2025-06-12 16:18:16,918 | [92mINFO[0m: [92mSpawnProcess-1:63 search 30s: actual_dur=30.0219s, count=463, qps in this process: 15.4221[0m (mp_runner.py:91) (4189159)
2025-06-12 16:18:16,918 | [92mINFO[0m: [92mSpawnProcess-1:31 search 30s: actual_dur=30.0641s, count=462, qps in this process: 15.3672[0m (mp_runner.py:91) (4188767)
2025-06-12 16:18:16,920 | [92mINFO[0m: [92mSpawnProcess-1:16 search 30s: actual_dur=30.0303s, count=463, qps in this process: 15.4178[0m (mp_runner.py:91) (4188695)
2025-06-12 16:18:16,920 | [92mINFO[0m: [92mSpawnProcess-1:59 search 30s: actual_dur=30.0264s, count=464, qps in this process: 15.4531[0m (mp_runner.py:91) (4189155)
2025-06-12 16:18:16,922 | [92mINFO[0m: [92mSpawnProcess-1:46 search 30s: actual_dur=30.0051s, count=463, qps in this process: 15.4307[0m (mp_runner.py:91) (4189024)
2025-06-12 16:18:16,934 | [92mINFO[0m: [92mSpawnProcess-1:55 search 30s: actual_dur=30.0216s, count=461, qps in this process: 15.3556[0m (mp_runner.py:91) (4189106)
2025-06-12 16:18:16,938 | [92mINFO[0m: [92mSpawnProcess-1:65 search 30s: actual_dur=30.0373s, count=463, qps in this process: 15.4142[0m (mp_runner.py:91) (4189180)
2025-06-12 16:18:16,952 | [92mINFO[0m: [92mSpawnProcess-1:54 search 30s: actual_dur=30.006s, count=465, qps in this process: 15.4969[0m (mp_runner.py:91) (4189105)
2025-06-12 16:18:16,953 | [92mINFO[0m: [92mSpawnProcess-1:47 search 30s: actual_dur=30.0234s, count=464, qps in this process: 15.4546[0m (mp_runner.py:91) (4189025)
2025-06-12 16:18:16,959 | [92mINFO[0m: [92mSpawnProcess-1:9 search 30s: actual_dur=30.0223s, count=463, qps in this process: 15.4219[0m (mp_runner.py:91) (4188688)
2025-06-12 16:18:16,993 | [92mINFO[0m: [92mSpawnProcess-1:36 search 30s: actual_dur=30.0065s, count=463, qps in this process: 15.43[0m (mp_runner.py:91) (4188988)
2025-06-12 16:18:16,993 | [92mINFO[0m: [92mSpawnProcess-1:19 search 30s: actual_dur=30.0192s, count=462, qps in this process: 15.3902[0m (mp_runner.py:91) (4188698)
2025-06-12 16:18:16,993 | [92mINFO[0m: [92mSpawnProcess-1:50 search 30s: actual_dur=30.0154s, count=461, qps in this process: 15.3588[0m (mp_runner.py:91) (4189079)
2025-06-12 16:18:16,993 | [92mINFO[0m: [92mSpawnProcess-1:64 search 30s: actual_dur=30.0037s, count=461, qps in this process: 15.3648[0m (mp_runner.py:91) (4189179)
2025-06-12 16:18:16,994 | [92mINFO[0m: [92mSpawnProcess-1:32 search 30s: actual_dur=30.0193s, count=465, qps in this process: 15.49[0m (mp_runner.py:91) (4188768)
2025-06-12 16:18:16,994 | [92mINFO[0m: [92mSpawnProcess-1:60 search 30s: actual_dur=30.0229s, count=460, qps in this process: 15.3216[0m (mp_runner.py:91) (4189156)
2025-06-12 16:18:17,004 | [92mINFO[0m: [92mSpawnProcess-1:25 search 30s: actual_dur=30.0306s, count=465, qps in this process: 15.4842[0m (mp_runner.py:91) (4188718)
2025-06-12 16:18:17,005 | [92mINFO[0m: [92mSpawnProcess-1:39 search 30s: actual_dur=30.0174s, count=466, qps in this process: 15.5243[0m (mp_runner.py:91) (4189012)
2025-06-12 16:18:17,006 | [92mINFO[0m: [92mSpawnProcess-1:61 search 30s: actual_dur=30.0099s, count=467, qps in this process: 15.5615[0m (mp_runner.py:91) (4189157)
2025-06-12 16:18:17,006 | [92mINFO[0m: [92mSpawnProcess-1:24 search 30s: actual_dur=30.0105s, count=468, qps in this process: 15.5945[0m (mp_runner.py:91) (4188703)
2025-06-12 16:18:17,007 | [92mINFO[0m: [92mSpawnProcess-1:57 search 30s: actual_dur=30.0096s, count=466, qps in this process: 15.5284[0m (mp_runner.py:91) (4189130)
2025-06-12 16:18:17,032 | [92mINFO[0m: [92mSpawnProcess-1:21 search 30s: actual_dur=30.0149s, count=470, qps in this process: 15.6589[0m (mp_runner.py:91) (4188700)
2025-06-12 16:18:17,034 | [92mINFO[0m: [92mSpawnProcess-1:28 search 30s: actual_dur=30.0163s, count=471, qps in this process: 15.6915[0m (mp_runner.py:91) (4188764)
2025-06-12 16:18:17,038 | [92mINFO[0m: [92mSpawnProcess-1:53 search 30s: actual_dur=30.0114s, count=462, qps in this process: 15.3942[0m (mp_runner.py:91) (4189103)
2025-06-12 16:18:17,050 | [92mINFO[0m: [92mSpawnProcess-1:42 search 30s: actual_dur=30.0048s, count=469, qps in this process: 15.6308[0m (mp_runner.py:91) (4189018)
2025-06-12 16:18:17,075 | [92mINFO[0m: [92mSpawnProcess-1:34 search 30s: actual_dur=30.0074s, count=478, qps in this process: 15.9294[0m (mp_runner.py:91) (4188923)
2025-06-12 16:18:20,052 | [92mINFO[0m: [92mSpawnProcess-1:2 search 30s: actual_dur=33.0067s, count=466, qps in this process: 14.1183[0m (mp_runner.py:91) (4188679)
2025-06-12 16:18:20,072 | [92mINFO[0m: [92mEnd search in concurrency 64: dur=33.629883097004495s, total_count=29657, qps=881.8645[0m (mp_runner.py:139) (4188432)
2025-06-12 16:18:21,235 | [92mINFO[0m: [92mUpdate largest qps with concurrency 64: current max_qps=881.8645[0m (mp_runner.py:143) (4188432)
2025-06-12 16:18:22,709 | [92mINFO[0m: [92mSpawnProcess-1:66 start search the entire test_data to get recall and latency[0m (serial_runner.py:206) (4192846)
2025-06-12 16:18:38,454 | [92mINFO[0m: [92mSpawnProcess-1:66 search entire test_data: cost=11.1628s, queries=1000, avg_recall=0.9055, avg_ndcg=0.906,avg_latency=0.0112, p99=0.0142[0m (serial_runner.py:251) (4192846)
2025-06-12 16:18:38,741 | [92mINFO[0m: [92mPerformance case got result: Metric(max_load_count=0, load_duration=0.0, qps=881.8645, serial_latency_p99=np.float64(0.0142), recall=np.float64(0.9055), ndcg=np.float64(0.906), conc_num_list=[64], conc_qps_list=[881.8645], conc_latency_p99_list=[np.float64(0.0864917316782521)], conc_latency_avg_list=[np.float64(0.06477232437933395)])[0m (task_runner.py:186) (4188432)
2025-06-12 16:18:38,742 | [92mINFO[0m: [92m[1/1] finish case: {'label': <CaseLabel.Performance: 2>, 'dataset': {'data': {'name': 'Cohere', 'size': 10000000, 'dim': 768, 'metric_type': <MetricType.COSINE: 'COSINE'>}}, 'db': 'QdrantLocal'}, result=Metric(max_load_count=0, load_duration=0.0, qps=881.8645, serial_latency_p99=np.float64(0.0142), recall=np.float64(0.9055), ndcg=np.float64(0.906), conc_num_list=[64], conc_qps_list=[881.8645], conc_latency_p99_list=[np.float64(0.0864917316782521)], conc_latency_avg_list=[np.float64(0.06477232437933395)]), label=ResultLabel.NORMAL[0m (interface.py:174) (4188432)
2025-06-12 16:18:38,743 | INFO |Task summary: run_id=6bdd4, task_label=6bdd4d1ae2854ca08bcd212d18d9b03b (models.py:375)
2025-06-12 16:18:38,743 | INFO |DB          | db_label case               label                            | load_dur    qps         latency(p99)    recall        max_load_count | label (models.py:375)
2025-06-12 16:18:38,743 | INFO |----------- | -------- ------------------ -------------------------------- | ----------- ----------- --------------- ------------- -------------- | ----- (models.py:375)
2025-06-12 16:18:38,743 | INFO |QdrantLocal |          Performance768D10M 6bdd4d1ae2854ca08bcd212d18d9b03b | 0.0         881.8645    0.0142          0.9055        0              | :)    (models.py:375)
2025-06-12 16:18:38,744 | [92mINFO[0m: [92mwrite results to disk /home/zebin/2025-vectordb-bench-new/VectorDBBench-dev/vectordb_bench/results/QdrantLocal/result_20250612_6bdd4d1ae2854ca08bcd212d18d9b03b_qdrantlocal.json[0m (models.py:243) (4188432)
2025-06-12 16:18:38,745 | [92mINFO[0m: [92mSuccess to finish task: label=6bdd4d1ae2854ca08bcd212d18d9b03b, run_id=6bdd4d1ae2854ca08bcd212d18d9b03b[0m (interface.py:213) (4188432)
