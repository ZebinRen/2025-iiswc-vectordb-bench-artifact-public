2025-06-08 21:40:13,873 | [92mINFO[0m: [92mTask:
TaskConfig(db=<DB.Milvus: 'Milvus'>, db_config=MilvusConfig(db_label='milvus_hnsw_cohere_10m', version='', note='', uri=SecretStr('**********'), user=None, password=None, num_shards=1), db_case_config=HNSWConfig(index=<IndexType.HNSW: 'HNSW'>, metric_type=None, M=16, efConstruction=200, ef=43), case_config=CaseConfig(case_id=<CaseType.Performance768D10M: 4>, custom_case={}, k=10, concurrency_search_config=ConcurrencySearchConfig(num_concurrency=[64], concurrency_duration=30, concurrency_timeout=3600)), stages=['search_serial', 'search_concurrent'])
[0m (cli.py:516) (1201153)
2025-06-08 21:40:13,873 | [92mINFO[0m: [92mgenerated uuid for the tasks: be9cc933ef994a1a8489a4edfccc2579[0m (interface.py:72) (1201153)
2025-06-08 21:40:13,999 | INFO | DB             | CaseType     Dataset               Filter | task_label (task_runner.py:340)
2025-06-08 21:40:13,999 | INFO | -----------    | ------------ -------------------- ------- | -------    (task_runner.py:340)
2025-06-08 21:40:13,999 | INFO | Milvus-milvus_hnsw_cohere_10m | Performance  Cohere-LARGE-10M        None | be9cc933ef994a1a8489a4edfccc2579 (task_runner.py:340)
2025-06-08 21:40:13,999 | [92mINFO[0m: [92mtask submitted: id=be9cc933ef994a1a8489a4edfccc2579, be9cc933ef994a1a8489a4edfccc2579, case number: 1[0m (interface.py:242) (1201153)
2025-06-08 21:40:14,676 | [92mINFO[0m: [92m[1/1] start case: {'label': <CaseLabel.Performance: 2>, 'dataset': {'data': {'name': 'Cohere', 'size': 10000000, 'dim': 768, 'metric_type': <MetricType.COSINE: 'COSINE'>}}, 'db': 'Milvus-milvus_hnsw_cohere_10m'}, drop_old=False[0m (interface.py:172) (1201189)
2025-06-08 21:40:14,676 | [92mINFO[0m: [92mStarting run[0m (task_runner.py:105) (1201189)
2025-06-08 21:40:17,736 | [92mINFO[0m: [92mRead the entire file into memory: test.parquet[0m (dataset.py:251) (1201189)
2025-06-08 21:40:17,827 | [92mINFO[0m: [92mRead the entire file into memory: neighbors.parquet[0m (dataset.py:251) (1201189)
2025-06-08 21:40:18,251 | [92mINFO[0m: [92mStart performance case[0m (task_runner.py:147) (1201189)
2025-06-08 21:40:19,023 | [92mINFO[0m: [92mStart search 30s in concurrency 64, filters: None[0m (mp_runner.py:118) (1201189)
2025-06-08 21:40:30,074 | [92mINFO[0m: [92mSyncing all process and start concurrency search, concurrency=64[0m (mp_runner.py:125) (1201189)
2025-06-08 21:41:00,106 | [92mINFO[0m: [92mSpawnProcess-1:34 search 30s: actual_dur=30.0082s, count=504, qps in this process: 16.7954[0m (mp_runner.py:91) (1201597)
2025-06-08 21:41:00,109 | [92mINFO[0m: [92mSpawnProcess-1:12 search 30s: actual_dur=30.0084s, count=501, qps in this process: 16.6953[0m (mp_runner.py:91) (1201366)
2025-06-08 21:41:00,129 | [92mINFO[0m: [92mSpawnProcess-1:29 search 30s: actual_dur=30.0091s, count=498, qps in this process: 16.595[0m (mp_runner.py:91) (1201421)
2025-06-08 21:41:00,132 | [92mINFO[0m: [92mSpawnProcess-1:23 search 30s: actual_dur=30.0146s, count=518, qps in this process: 17.2583[0m (mp_runner.py:91) (1201377)
2025-06-08 21:41:00,132 | [92mINFO[0m: [92mSpawnProcess-1:28 search 30s: actual_dur=30.031s, count=506, qps in this process: 16.8493[0m (mp_runner.py:91) (1201420)
2025-06-08 21:41:00,134 | [92mINFO[0m: [92mSpawnProcess-1:54 search 30s: actual_dur=30.0257s, count=512, qps in this process: 17.0521[0m (mp_runner.py:91) (1201766)
2025-06-08 21:41:00,136 | [92mINFO[0m: [92mSpawnProcess-1:8 search 30s: actual_dur=30.0352s, count=506, qps in this process: 16.8469[0m (mp_runner.py:91) (1201362)
2025-06-08 21:41:00,136 | [92mINFO[0m: [92mSpawnProcess-1:39 search 30s: actual_dur=30.0285s, count=492, qps in this process: 16.3844[0m (mp_runner.py:91) (1201678)
2025-06-08 21:41:00,136 | [92mINFO[0m: [92mSpawnProcess-1:30 search 30s: actual_dur=30.0131s, count=493, qps in this process: 16.4262[0m (mp_runner.py:91) (1201441)
2025-06-08 21:41:00,138 | [92mINFO[0m: [92mSpawnProcess-1:25 search 30s: actual_dur=30.0112s, count=509, qps in this process: 16.9603[0m (mp_runner.py:91) (1201417)
2025-06-08 21:41:00,138 | [92mINFO[0m: [92mSpawnProcess-1:47 search 30s: actual_dur=30.0155s, count=498, qps in this process: 16.5914[0m (mp_runner.py:91) (1201689)
2025-06-08 21:41:00,139 | [92mINFO[0m: [92mSpawnProcess-1:4 search 30s: actual_dur=30.0217s, count=498, qps in this process: 16.588[0m (mp_runner.py:91) (1201358)
2025-06-08 21:41:00,140 | [92mINFO[0m: [92mSpawnProcess-1:6 search 30s: actual_dur=30.0381s, count=504, qps in this process: 16.7787[0m (mp_runner.py:91) (1201360)
2025-06-08 21:41:00,140 | [92mINFO[0m: [92mSpawnProcess-1:27 search 30s: actual_dur=30.0427s, count=494, qps in this process: 16.4433[0m (mp_runner.py:91) (1201419)
2025-06-08 21:41:00,140 | [92mINFO[0m: [92mSpawnProcess-1:16 search 30s: actual_dur=30.0327s, count=505, qps in this process: 16.815[0m (mp_runner.py:91) (1201370)
2025-06-08 21:41:00,141 | [92mINFO[0m: [92mSpawnProcess-1:26 search 30s: actual_dur=30.0443s, count=510, qps in this process: 16.9749[0m (mp_runner.py:91) (1201418)
2025-06-08 21:41:00,141 | [92mINFO[0m: [92mSpawnProcess-1:2 search 30s: actual_dur=30.0449s, count=518, qps in this process: 17.2409[0m (mp_runner.py:91) (1201354)
2025-06-08 21:41:00,141 | [92mINFO[0m: [92mSpawnProcess-1:33 search 30s: actual_dur=30.048s, count=514, qps in this process: 17.106[0m (mp_runner.py:91) (1201577)
2025-06-08 21:41:00,142 | [92mINFO[0m: [92mSpawnProcess-1:63 search 30s: actual_dur=30.0419s, count=498, qps in this process: 16.5768[0m (mp_runner.py:91) (1201857)
2025-06-08 21:41:00,144 | [92mINFO[0m: [92mSpawnProcess-1:3 search 30s: actual_dur=30.048s, count=507, qps in this process: 16.873[0m (mp_runner.py:91) (1201357)
2025-06-08 21:41:00,147 | [92mINFO[0m: [92mSpawnProcess-1:5 search 30s: actual_dur=30.0255s, count=509, qps in this process: 16.9523[0m (mp_runner.py:91) (1201359)
2025-06-08 21:41:00,148 | [92mINFO[0m: [92mSpawnProcess-1:14 search 30s: actual_dur=30.0146s, count=505, qps in this process: 16.8251[0m (mp_runner.py:91) (1201368)
2025-06-08 21:41:00,161 | [92mINFO[0m: [92mSpawnProcess-1:20 search 30s: actual_dur=30.0265s, count=508, qps in this process: 16.9184[0m (mp_runner.py:91) (1201374)
2025-06-08 21:41:00,162 | [92mINFO[0m: [92mSpawnProcess-1:9 search 30s: actual_dur=30.0189s, count=507, qps in this process: 16.8894[0m (mp_runner.py:91) (1201363)
2025-06-08 21:41:00,162 | [92mINFO[0m: [92mSpawnProcess-1:43 search 30s: actual_dur=30.0222s, count=501, qps in this process: 16.6877[0m (mp_runner.py:91) (1201682)
2025-06-08 21:41:00,162 | [92mINFO[0m: [92mSpawnProcess-1:55 search 30s: actual_dur=30.0461s, count=496, qps in this process: 16.508[0m (mp_runner.py:91) (1201768)
2025-06-08 21:41:00,163 | [92mINFO[0m: [92mSpawnProcess-1:18 search 30s: actual_dur=30.0143s, count=508, qps in this process: 16.9253[0m (mp_runner.py:91) (1201372)
2025-06-08 21:41:00,163 | [92mINFO[0m: [92mSpawnProcess-1:42 search 30s: actual_dur=30.0545s, count=501, qps in this process: 16.6697[0m (mp_runner.py:91) (1201681)
2025-06-08 21:41:00,164 | [92mINFO[0m: [92mSpawnProcess-1:21 search 30s: actual_dur=30.0525s, count=506, qps in this process: 16.8372[0m (mp_runner.py:91) (1201375)
2025-06-08 21:41:00,165 | [92mINFO[0m: [92mSpawnProcess-1:11 search 30s: actual_dur=30.0353s, count=501, qps in this process: 16.6804[0m (mp_runner.py:91) (1201365)
2025-06-08 21:41:00,167 | [92mINFO[0m: [92mSpawnProcess-1:10 search 30s: actual_dur=30.0435s, count=505, qps in this process: 16.809[0m (mp_runner.py:91) (1201364)
2025-06-08 21:41:00,169 | [92mINFO[0m: [92mSpawnProcess-1:15 search 30s: actual_dur=30.0229s, count=501, qps in this process: 16.6873[0m (mp_runner.py:91) (1201369)
2025-06-08 21:41:00,170 | [92mINFO[0m: [92mSpawnProcess-1:22 search 30s: actual_dur=30.0655s, count=503, qps in this process: 16.7301[0m (mp_runner.py:91) (1201376)
2025-06-08 21:41:00,172 | [92mINFO[0m: [92mSpawnProcess-1:41 search 30s: actual_dur=30.0401s, count=496, qps in this process: 16.5113[0m (mp_runner.py:91) (1201680)
2025-06-08 21:41:00,172 | [92mINFO[0m: [92mSpawnProcess-1:38 search 30s: actual_dur=30.0385s, count=532, qps in this process: 17.7106[0m (mp_runner.py:91) (1201677)
2025-06-08 21:41:00,174 | [92mINFO[0m: [92mSpawnProcess-1:52 search 30s: actual_dur=30.0175s, count=493, qps in this process: 16.4238[0m (mp_runner.py:91) (1201759)
2025-06-08 21:41:00,174 | [92mINFO[0m: [92mSpawnProcess-1:64 search 30s: actual_dur=30.0329s, count=502, qps in this process: 16.715[0m (mp_runner.py:91) (1201877)
2025-06-08 21:41:00,177 | [92mINFO[0m: [92mSpawnProcess-1:19 search 30s: actual_dur=30.0349s, count=504, qps in this process: 16.7805[0m (mp_runner.py:91) (1201373)
2025-06-08 21:41:00,177 | [92mINFO[0m: [92mSpawnProcess-1:58 search 30s: actual_dur=30.0418s, count=508, qps in this process: 16.9098[0m (mp_runner.py:91) (1201793)
2025-06-08 21:41:00,182 | [92mINFO[0m: [92mSpawnProcess-1:49 search 30s: actual_dur=30.0363s, count=516, qps in this process: 17.1792[0m (mp_runner.py:91) (1201734)
2025-06-08 21:41:00,185 | [92mINFO[0m: [92mSpawnProcess-1:31 search 30s: actual_dur=30.0291s, count=519, qps in this process: 17.2832[0m (mp_runner.py:91) (1201461)
2025-06-08 21:41:00,187 | [92mINFO[0m: [92mSpawnProcess-1:44 search 30s: actual_dur=30.0436s, count=504, qps in this process: 16.7756[0m (mp_runner.py:91) (1201683)
2025-06-08 21:41:00,192 | [92mINFO[0m: [92mSpawnProcess-1:57 search 30s: actual_dur=30.024s, count=520, qps in this process: 17.3195[0m (mp_runner.py:91) (1201792)
2025-06-08 21:41:00,192 | [92mINFO[0m: [92mSpawnProcess-1:53 search 30s: actual_dur=30.0256s, count=506, qps in this process: 16.8523[0m (mp_runner.py:91) (1201763)
2025-06-08 21:41:00,197 | [92mINFO[0m: [92mSpawnProcess-1:32 search 30s: actual_dur=30.0109s, count=524, qps in this process: 17.4603[0m (mp_runner.py:91) (1201468)
2025-06-08 21:41:00,198 | [92mINFO[0m: [92mSpawnProcess-1:13 search 30s: actual_dur=30.0289s, count=501, qps in this process: 16.6839[0m (mp_runner.py:91) (1201367)
2025-06-08 21:41:00,198 | [92mINFO[0m: [92mSpawnProcess-1:40 search 30s: actual_dur=30.0135s, count=506, qps in this process: 16.8591[0m (mp_runner.py:91) (1201679)
2025-06-08 21:41:00,208 | [92mINFO[0m: [92mSpawnProcess-1:65 search 30s: actual_dur=30.0208s, count=512, qps in this process: 17.0548[0m (mp_runner.py:91) (1201879)
2025-06-08 21:41:00,210 | [92mINFO[0m: [92mSpawnProcess-1:48 search 30s: actual_dur=30.017s, count=511, qps in this process: 17.0237[0m (mp_runner.py:91) (1201691)
2025-06-08 21:41:00,215 | [92mINFO[0m: [92mSpawnProcess-1:60 search 30s: actual_dur=30.0099s, count=507, qps in this process: 16.8944[0m (mp_runner.py:91) (1201797)
2025-06-08 21:41:00,219 | [92mINFO[0m: [92mSpawnProcess-1:50 search 30s: actual_dur=30.0108s, count=499, qps in this process: 16.6273[0m (mp_runner.py:91) (1201737)
2025-06-08 21:41:00,221 | [92mINFO[0m: [92mSpawnProcess-1:62 search 30s: actual_dur=30.0288s, count=506, qps in this process: 16.8505[0m (mp_runner.py:91) (1201837)
2025-06-08 21:41:00,222 | [92mINFO[0m: [92mSpawnProcess-1:37 search 30s: actual_dur=30.0118s, count=501, qps in this process: 16.6934[0m (mp_runner.py:91) (1201676)
2025-06-08 21:41:00,223 | [92mINFO[0m: [92mSpawnProcess-1:56 search 30s: actual_dur=30.003s, count=504, qps in this process: 16.7983[0m (mp_runner.py:91) (1201789)
2025-06-08 21:41:00,226 | [92mINFO[0m: [92mSpawnProcess-1:59 search 30s: actual_dur=30.0096s, count=500, qps in this process: 16.6613[0m (mp_runner.py:91) (1201796)
2025-06-08 21:41:00,227 | [92mINFO[0m: [92mSpawnProcess-1:17 search 30s: actual_dur=30.0066s, count=507, qps in this process: 16.8963[0m (mp_runner.py:91) (1201371)
2025-06-08 21:41:00,227 | [92mINFO[0m: [92mSpawnProcess-1:24 search 30s: actual_dur=30.0075s, count=508, qps in this process: 16.9291[0m (mp_runner.py:91) (1201389)
2025-06-08 21:41:00,227 | [92mINFO[0m: [92mSpawnProcess-1:46 search 30s: actual_dur=30.0076s, count=502, qps in this process: 16.7291[0m (mp_runner.py:91) (1201687)
2025-06-08 21:41:00,228 | [92mINFO[0m: [92mSpawnProcess-1:35 search 30s: actual_dur=30.0068s, count=507, qps in this process: 16.8962[0m (mp_runner.py:91) (1201655)
2025-06-08 21:41:00,238 | [92mINFO[0m: [92mSpawnProcess-1:51 search 30s: actual_dur=30.0109s, count=502, qps in this process: 16.7273[0m (mp_runner.py:91) (1201757)
2025-06-08 21:41:00,243 | [92mINFO[0m: [92mSpawnProcess-1:7 search 30s: actual_dur=30.0012s, count=517, qps in this process: 17.2326[0m (mp_runner.py:91) (1201361)
2025-06-08 21:41:00,249 | [92mINFO[0m: [92mSpawnProcess-1:36 search 30s: actual_dur=30.0103s, count=506, qps in this process: 16.8609[0m (mp_runner.py:91) (1201675)
2025-06-08 21:41:00,255 | [92mINFO[0m: [92mSpawnProcess-1:61 search 30s: actual_dur=30.0013s, count=512, qps in this process: 17.0659[0m (mp_runner.py:91) (1201817)
2025-06-08 21:41:00,266 | [92mINFO[0m: [92mSpawnProcess-1:45 search 30s: actual_dur=30.0023s, count=512, qps in this process: 17.0654[0m (mp_runner.py:91) (1201686)
2025-06-08 21:41:00,277 | [92mINFO[0m: [92mEnd search in concurrency 64: dur=30.201450296000985s, total_count=32380, qps=1072.1339[0m (mp_runner.py:139) (1201189)
2025-06-08 21:41:01,264 | [92mINFO[0m: [92mUpdate largest qps with concurrency 64: current max_qps=1072.1339[0m (mp_runner.py:143) (1201189)
2025-06-08 21:41:02,396 | [92mINFO[0m: [92mSpawnProcess-1:66 start search the entire test_data to get recall and latency[0m (serial_runner.py:206) (1206252)
2025-06-08 21:41:07,366 | [92mINFO[0m: [92mSpawnProcess-1:66 search entire test_data: cost=2.8927s, queries=1000, avg_recall=0.9015, avg_ndcg=0.9022,avg_latency=0.0029, p99=0.0034[0m (serial_runner.py:251) (1206252)
2025-06-08 21:41:07,569 | [92mINFO[0m: [92mPerformance case got result: Metric(max_load_count=0, load_duration=0.0, qps=1072.1339, serial_latency_p99=np.float64(0.0034), recall=np.float64(0.9015), ndcg=np.float64(0.9022), conc_num_list=[64], conc_qps_list=[1072.1339], conc_latency_p99_list=[np.float64(0.09526964314885844)], conc_latency_avg_list=[np.float64(0.05932672886751044)])[0m (task_runner.py:186) (1201189)
2025-06-08 21:41:07,569 | [92mINFO[0m: [92m[1/1] finish case: {'label': <CaseLabel.Performance: 2>, 'dataset': {'data': {'name': 'Cohere', 'size': 10000000, 'dim': 768, 'metric_type': <MetricType.COSINE: 'COSINE'>}}, 'db': 'Milvus-milvus_hnsw_cohere_10m'}, result=Metric(max_load_count=0, load_duration=0.0, qps=1072.1339, serial_latency_p99=np.float64(0.0034), recall=np.float64(0.9015), ndcg=np.float64(0.9022), conc_num_list=[64], conc_qps_list=[1072.1339], conc_latency_p99_list=[np.float64(0.09526964314885844)], conc_latency_avg_list=[np.float64(0.05932672886751044)]), label=ResultLabel.NORMAL[0m (interface.py:174) (1201189)
2025-06-08 21:41:07,569 | INFO |Task summary: run_id=be9cc, task_label=be9cc933ef994a1a8489a4edfccc2579 (models.py:375)
2025-06-08 21:41:07,569 | INFO |DB     | db_label                  case               label                            | load_dur    qps          latency(p99)    recall        max_load_count | label (models.py:375)
2025-06-08 21:41:07,570 | INFO |------ | ------------------------- ------------------ -------------------------------- | ----------- ------------ --------------- ------------- -------------- | ----- (models.py:375)
2025-06-08 21:41:07,570 | INFO |Milvus | milvus_hnsw_cohere_10m    Performance768D10M be9cc933ef994a1a8489a4edfccc2579 | 0.0         1072.1339    0.0034          0.9015        0              | :)    (models.py:375)
2025-06-08 21:41:07,570 | [92mINFO[0m: [92mwrite results to disk /home/zebin/2025-vectordb-bench-new/VectorDBBench-dev/vectordb_bench/results/Milvus/result_20250608_be9cc933ef994a1a8489a4edfccc2579_milvus.json[0m (models.py:243) (1201189)
2025-06-08 21:41:07,571 | [92mINFO[0m: [92mSuccess to finish task: label=be9cc933ef994a1a8489a4edfccc2579, run_id=be9cc933ef994a1a8489a4edfccc2579[0m (interface.py:213) (1201189)
