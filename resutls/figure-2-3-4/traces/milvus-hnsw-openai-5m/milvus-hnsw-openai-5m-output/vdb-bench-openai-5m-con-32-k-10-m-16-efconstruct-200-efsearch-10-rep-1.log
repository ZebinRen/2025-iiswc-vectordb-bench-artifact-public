2025-06-09 13:10:03,044 | [92mINFO[0m: [92mTask:
TaskConfig(db=<DB.Milvus: 'Milvus'>, db_config=MilvusConfig(db_label='milvus_hnsw_openai_5m', version='', note='', uri=SecretStr('**********'), user=None, password=None, num_shards=1), db_case_config=HNSWConfig(index=<IndexType.HNSW: 'HNSW'>, metric_type=None, M=16, efConstruction=200, ef=10), case_config=CaseConfig(case_id=<CaseType.Performance1536D5M: 11>, custom_case={}, k=10, concurrency_search_config=ConcurrencySearchConfig(num_concurrency=[32], concurrency_duration=30, concurrency_timeout=3600)), stages=['search_serial', 'search_concurrent'])
[0m (cli.py:516) (2704766)
2025-06-09 13:10:03,044 | [92mINFO[0m: [92mgenerated uuid for the tasks: 4fb89a1ed774418c95fa84016dd4468a[0m (interface.py:72) (2704766)
2025-06-09 13:10:03,173 | INFO | DB             | CaseType     Dataset               Filter | task_label (task_runner.py:340)
2025-06-09 13:10:03,174 | INFO | -----------    | ------------ -------------------- ------- | -------    (task_runner.py:340)
2025-06-09 13:10:03,174 | INFO | Milvus-milvus_hnsw_openai_5m | Performance  OpenAI-LARGE-5M         None | 4fb89a1ed774418c95fa84016dd4468a (task_runner.py:340)
2025-06-09 13:10:03,174 | [92mINFO[0m: [92mtask submitted: id=4fb89a1ed774418c95fa84016dd4468a, 4fb89a1ed774418c95fa84016dd4468a, case number: 1[0m (interface.py:242) (2704766)
2025-06-09 13:10:03,856 | [92mINFO[0m: [92m[1/1] start case: {'label': <CaseLabel.Performance: 2>, 'dataset': {'data': {'name': 'OpenAI', 'size': 5000000, 'dim': 1536, 'metric_type': <MetricType.COSINE: 'COSINE'>}}, 'db': 'Milvus-milvus_hnsw_openai_5m'}, drop_old=False[0m (interface.py:172) (2704802)
2025-06-09 13:10:03,856 | [92mINFO[0m: [92mStarting run[0m (task_runner.py:105) (2704802)
2025-06-09 13:10:06,945 | [92mINFO[0m: [92mRead the entire file into memory: test.parquet[0m (dataset.py:251) (2704802)
2025-06-09 13:10:07,091 | [92mINFO[0m: [92mRead the entire file into memory: neighbors.parquet[0m (dataset.py:251) (2704802)
2025-06-09 13:10:07,160 | [92mINFO[0m: [92mStart performance case[0m (task_runner.py:147) (2704802)
2025-06-09 13:10:07,990 | [92mINFO[0m: [92mStart search 30s in concurrency 32, filters: None[0m (mp_runner.py:118) (2704802)
2025-06-09 13:10:18,303 | [92mINFO[0m: [92mSyncing all process and start concurrency search, concurrency=32[0m (mp_runner.py:125) (2704802)
2025-06-09 13:10:48,338 | [92mINFO[0m: [92mSpawnProcess-1:7 search 30s: actual_dur=30.0077s, count=1416, qps in this process: 47.1879[0m (mp_runner.py:91) (2704974)
2025-06-09 13:10:48,344 | [92mINFO[0m: [92mSpawnProcess-1:25 search 30s: actual_dur=30.0101s, count=1432, qps in this process: 47.7173[0m (mp_runner.py:91) (2704992)
2025-06-09 13:10:48,345 | [92mINFO[0m: [92mSpawnProcess-1:13 search 30s: actual_dur=30.0152s, count=1434, qps in this process: 47.7758[0m (mp_runner.py:91) (2704980)
2025-06-09 13:10:48,345 | [92mINFO[0m: [92mSpawnProcess-1:17 search 30s: actual_dur=30.01s, count=1409, qps in this process: 46.951[0m (mp_runner.py:91) (2704984)
2025-06-09 13:10:48,346 | [92mINFO[0m: [92mSpawnProcess-1:3 search 30s: actual_dur=30.0086s, count=1427, qps in this process: 47.553[0m (mp_runner.py:91) (2704970)
2025-06-09 13:10:48,347 | [92mINFO[0m: [92mSpawnProcess-1:5 search 30s: actual_dur=30.0045s, count=1423, qps in this process: 47.4262[0m (mp_runner.py:91) (2704972)
2025-06-09 13:10:48,348 | [92mINFO[0m: [92mSpawnProcess-1:23 search 30s: actual_dur=30.0197s, count=1428, qps in this process: 47.5688[0m (mp_runner.py:91) (2704990)
2025-06-09 13:10:48,348 | [92mINFO[0m: [92mSpawnProcess-1:16 search 30s: actual_dur=30.0155s, count=1421, qps in this process: 47.3422[0m (mp_runner.py:91) (2704983)
2025-06-09 13:10:48,349 | [92mINFO[0m: [92mSpawnProcess-1:10 search 30s: actual_dur=30.021s, count=1427, qps in this process: 47.5334[0m (mp_runner.py:91) (2704977)
2025-06-09 13:10:48,349 | [92mINFO[0m: [92mSpawnProcess-1:32 search 30s: actual_dur=30.0177s, count=1430, qps in this process: 47.6386[0m (mp_runner.py:91) (2705037)
2025-06-09 13:10:48,349 | [92mINFO[0m: [92mSpawnProcess-1:8 search 30s: actual_dur=30.0196s, count=1436, qps in this process: 47.8354[0m (mp_runner.py:91) (2704975)
2025-06-09 13:10:48,351 | [92mINFO[0m: [92mSpawnProcess-1:27 search 30s: actual_dur=30.0134s, count=1413, qps in this process: 47.079[0m (mp_runner.py:91) (2705013)
2025-06-09 13:10:48,356 | [92mINFO[0m: [92mSpawnProcess-1:14 search 30s: actual_dur=30.0208s, count=1414, qps in this process: 47.1007[0m (mp_runner.py:91) (2704981)
2025-06-09 13:10:48,360 | [92mINFO[0m: [92mSpawnProcess-1:28 search 30s: actual_dur=30.0097s, count=1427, qps in this process: 47.5513[0m (mp_runner.py:91) (2705014)
2025-06-09 13:10:48,360 | [92mINFO[0m: [92mSpawnProcess-1:15 search 30s: actual_dur=30.0258s, count=1441, qps in this process: 47.9921[0m (mp_runner.py:91) (2704982)
2025-06-09 13:10:48,361 | [92mINFO[0m: [92mSpawnProcess-1:30 search 30s: actual_dur=30.0134s, count=1427, qps in this process: 47.5454[0m (mp_runner.py:91) (2705035)
2025-06-09 13:10:48,361 | [92mINFO[0m: [92mSpawnProcess-1:4 search 30s: actual_dur=30.0172s, count=1421, qps in this process: 47.3395[0m (mp_runner.py:91) (2704971)
2025-06-09 13:10:48,361 | [92mINFO[0m: [92mSpawnProcess-1:11 search 30s: actual_dur=30.0067s, count=1422, qps in this process: 47.3894[0m (mp_runner.py:91) (2704978)
2025-06-09 13:10:48,361 | [92mINFO[0m: [92mSpawnProcess-1:9 search 30s: actual_dur=30.0038s, count=1442, qps in this process: 48.0606[0m (mp_runner.py:91) (2704976)
2025-06-09 13:10:48,365 | [92mINFO[0m: [92mSpawnProcess-1:19 search 30s: actual_dur=30.0273s, count=1426, qps in this process: 47.4901[0m (mp_runner.py:91) (2704986)
2025-06-09 13:10:48,367 | [92mINFO[0m: [92mSpawnProcess-1:20 search 30s: actual_dur=30.0121s, count=1452, qps in this process: 48.3805[0m (mp_runner.py:91) (2704987)
2025-06-09 13:10:48,383 | [92mINFO[0m: [92mSpawnProcess-1:12 search 30s: actual_dur=30.0047s, count=1418, qps in this process: 47.2593[0m (mp_runner.py:91) (2704979)
2025-06-09 13:10:48,390 | [92mINFO[0m: [92mSpawnProcess-1:18 search 30s: actual_dur=30.0044s, count=1426, qps in this process: 47.5264[0m (mp_runner.py:91) (2704985)
2025-06-09 13:10:48,390 | [92mINFO[0m: [92mSpawnProcess-1:24 search 30s: actual_dur=30.001s, count=1410, qps in this process: 46.9984[0m (mp_runner.py:91) (2704991)
2025-06-09 13:10:48,390 | [92mINFO[0m: [92mSpawnProcess-1:2 search 30s: actual_dur=30.0061s, count=1428, qps in this process: 47.5903[0m (mp_runner.py:91) (2704967)
2025-06-09 13:10:48,391 | [92mINFO[0m: [92mSpawnProcess-1:6 search 30s: actual_dur=30.0068s, count=1440, qps in this process: 47.9891[0m (mp_runner.py:91) (2704973)
2025-06-09 13:10:48,391 | [92mINFO[0m: [92mSpawnProcess-1:29 search 30s: actual_dur=30.0072s, count=1423, qps in this process: 47.422[0m (mp_runner.py:91) (2705034)
2025-06-09 13:10:48,391 | [92mINFO[0m: [92mSpawnProcess-1:26 search 30s: actual_dur=30.0064s, count=1419, qps in this process: 47.2899[0m (mp_runner.py:91) (2705012)
2025-06-09 13:10:48,391 | [92mINFO[0m: [92mSpawnProcess-1:21 search 30s: actual_dur=30.0095s, count=1428, qps in this process: 47.5849[0m (mp_runner.py:91) (2704988)
2025-06-09 13:10:48,393 | [92mINFO[0m: [92mSpawnProcess-1:31 search 30s: actual_dur=30.0045s, count=1410, qps in this process: 46.993[0m (mp_runner.py:91) (2705036)
2025-06-09 13:10:48,404 | [92mINFO[0m: [92mSpawnProcess-1:22 search 30s: actual_dur=30.0056s, count=1417, qps in this process: 47.2245[0m (mp_runner.py:91) (2704989)
2025-06-09 13:10:48,405 | [92mINFO[0m: [92mSpawnProcess-1:33 search 30s: actual_dur=30.007s, count=1422, qps in this process: 47.3889[0m (mp_runner.py:91) (2705038)
2025-06-09 13:10:48,416 | [92mINFO[0m: [92mEnd search in concurrency 32: dur=30.112413673996343s, total_count=45609, qps=1514.6245[0m (mp_runner.py:139) (2704802)
2025-06-09 13:10:48,960 | [92mINFO[0m: [92mUpdate largest qps with concurrency 32: current max_qps=1514.6245[0m (mp_runner.py:143) (2704802)
2025-06-09 13:10:49,838 | [92mINFO[0m: [92mSpawnProcess-1:34 start search the entire test_data to get recall and latency[0m (serial_runner.py:206) (2707583)
2025-06-09 13:10:53,655 | [92mINFO[0m: [92mSpawnProcess-1:34 search entire test_data: cost=2.4434s, queries=1000, avg_recall=0.9077, avg_ndcg=0.9136,avg_latency=0.0024, p99=0.003[0m (serial_runner.py:251) (2707583)
2025-06-09 13:10:53,811 | [92mINFO[0m: [92mPerformance case got result: Metric(max_load_count=0, load_duration=0.0, qps=1514.6245, serial_latency_p99=np.float64(0.003), recall=np.float64(0.9077), ndcg=np.float64(0.9136), conc_num_list=[32], conc_qps_list=[1514.6245], conc_latency_p99_list=[np.float64(0.034403137845802116)], conc_latency_avg_list=[np.float64(0.02104824093295236)])[0m (task_runner.py:186) (2704802)
2025-06-09 13:10:53,812 | [92mINFO[0m: [92m[1/1] finish case: {'label': <CaseLabel.Performance: 2>, 'dataset': {'data': {'name': 'OpenAI', 'size': 5000000, 'dim': 1536, 'metric_type': <MetricType.COSINE: 'COSINE'>}}, 'db': 'Milvus-milvus_hnsw_openai_5m'}, result=Metric(max_load_count=0, load_duration=0.0, qps=1514.6245, serial_latency_p99=np.float64(0.003), recall=np.float64(0.9077), ndcg=np.float64(0.9136), conc_num_list=[32], conc_qps_list=[1514.6245], conc_latency_p99_list=[np.float64(0.034403137845802116)], conc_latency_avg_list=[np.float64(0.02104824093295236)]), label=ResultLabel.NORMAL[0m (interface.py:174) (2704802)
2025-06-09 13:10:53,812 | INFO |Task summary: run_id=4fb89, task_label=4fb89a1ed774418c95fa84016dd4468a (models.py:375)
2025-06-09 13:10:53,812 | INFO |DB     | db_label                 case               label                            | load_dur    qps          latency(p99)    recall        max_load_count | label (models.py:375)
2025-06-09 13:10:53,812 | INFO |------ | ------------------------ ------------------ -------------------------------- | ----------- ------------ --------------- ------------- -------------- | ----- (models.py:375)
2025-06-09 13:10:53,813 | INFO |Milvus | milvus_hnsw_openai_5m    Performance1536D5M 4fb89a1ed774418c95fa84016dd4468a | 0.0         1514.6245    0.003           0.9077        0              | :)    (models.py:375)
2025-06-09 13:10:53,813 | [92mINFO[0m: [92mwrite results to disk /home/zebin/2025-vectordb-bench-new/VectorDBBench-dev/vectordb_bench/results/Milvus/result_20250609_4fb89a1ed774418c95fa84016dd4468a_milvus.json[0m (models.py:243) (2704802)
2025-06-09 13:10:53,815 | [92mINFO[0m: [92mSuccess to finish task: label=4fb89a1ed774418c95fa84016dd4468a, run_id=4fb89a1ed774418c95fa84016dd4468a[0m (interface.py:213) (2704802)
