2025-06-09 03:41:48,735 | [92mINFO[0m: [92mTask:
TaskConfig(db=<DB.Milvus: 'Milvus'>, db_config=MilvusConfig(db_label='milvus_diskann_openai_5m', version='', note='', uri=SecretStr('**********'), user=None, password=SecretStr(''), num_shards=1), db_case_config=DISKANNConfig(index=<IndexType.DISKANN: 'DISKANN'>, metric_type=None, search_list=10), case_config=CaseConfig(case_id=<CaseType.Performance1536D5M: 11>, custom_case={}, k=10, concurrency_search_config=ConcurrencySearchConfig(num_concurrency=[64], concurrency_duration=30, concurrency_timeout=3600)), stages=['search_serial', 'search_concurrent'])
[0m (cli.py:516) (2284102)
2025-06-09 03:41:48,735 | [92mINFO[0m: [92mgenerated uuid for the tasks: 90720458e3b74b668628492ef4a0bdd7[0m (interface.py:72) (2284102)
2025-06-09 03:41:48,863 | INFO | DB             | CaseType     Dataset               Filter | task_label (task_runner.py:340)
2025-06-09 03:41:48,863 | INFO | -----------    | ------------ -------------------- ------- | -------    (task_runner.py:340)
2025-06-09 03:41:48,863 | INFO | Milvus-milvus_diskann_openai_5m | Performance  OpenAI-LARGE-5M         None | 90720458e3b74b668628492ef4a0bdd7 (task_runner.py:340)
2025-06-09 03:41:48,863 | [92mINFO[0m: [92mtask submitted: id=90720458e3b74b668628492ef4a0bdd7, 90720458e3b74b668628492ef4a0bdd7, case number: 1[0m (interface.py:242) (2284102)
2025-06-09 03:41:49,540 | [92mINFO[0m: [92m[1/1] start case: {'label': <CaseLabel.Performance: 2>, 'dataset': {'data': {'name': 'OpenAI', 'size': 5000000, 'dim': 1536, 'metric_type': <MetricType.COSINE: 'COSINE'>}}, 'db': 'Milvus-milvus_diskann_openai_5m'}, drop_old=False[0m (interface.py:172) (2284138)
2025-06-09 03:41:49,540 | [92mINFO[0m: [92mStarting run[0m (task_runner.py:105) (2284138)
2025-06-09 03:41:52,577 | [92mINFO[0m: [92mRead the entire file into memory: test.parquet[0m (dataset.py:251) (2284138)
2025-06-09 03:41:52,717 | [92mINFO[0m: [92mRead the entire file into memory: neighbors.parquet[0m (dataset.py:251) (2284138)
2025-06-09 03:41:52,779 | [92mINFO[0m: [92mStart performance case[0m (task_runner.py:147) (2284138)
2025-06-09 03:41:53,544 | [92mINFO[0m: [92mStart search 30s in concurrency 64, filters: None[0m (mp_runner.py:118) (2284138)
2025-06-09 03:42:04,563 | [92mINFO[0m: [92mSyncing all process and start concurrency search, concurrency=64[0m (mp_runner.py:125) (2284138)
2025-06-09 03:42:34,613 | [92mINFO[0m: [92mSpawnProcess-1:3 search 30s: actual_dur=30.0217s, count=194, qps in this process: 6.462[0m (mp_runner.py:91) (2284299)
2025-06-09 03:42:34,614 | [92mINFO[0m: [92mSpawnProcess-1:10 search 30s: actual_dur=30.0151s, count=194, qps in this process: 6.4634[0m (mp_runner.py:91) (2284306)
2025-06-09 03:42:34,629 | [92mINFO[0m: [92mSpawnProcess-1:23 search 30s: actual_dur=30.0279s, count=197, qps in this process: 6.5606[0m (mp_runner.py:91) (2284326)
2025-06-09 03:42:34,634 | [92mINFO[0m: [92mSpawnProcess-1:6 search 30s: actual_dur=30.0427s, count=195, qps in this process: 6.4908[0m (mp_runner.py:91) (2284302)
2025-06-09 03:42:34,634 | [92mINFO[0m: [92mSpawnProcess-1:9 search 30s: actual_dur=30.0272s, count=190, qps in this process: 6.3276[0m (mp_runner.py:91) (2284305)
2025-06-09 03:42:34,634 | [92mINFO[0m: [92mSpawnProcess-1:14 search 30s: actual_dur=30.0346s, count=192, qps in this process: 6.3926[0m (mp_runner.py:91) (2284310)
2025-06-09 03:42:34,636 | [92mINFO[0m: [92mSpawnProcess-1:56 search 30s: actual_dur=30.0459s, count=198, qps in this process: 6.5899[0m (mp_runner.py:91) (2284704)
2025-06-09 03:42:34,637 | [92mINFO[0m: [92mSpawnProcess-1:25 search 30s: actual_dur=30.0034s, count=198, qps in this process: 6.5993[0m (mp_runner.py:91) (2284328)
2025-06-09 03:42:34,698 | [92mINFO[0m: [92mSpawnProcess-1:31 search 30s: actual_dur=30.0918s, count=203, qps in this process: 6.746[0m (mp_runner.py:91) (2284372)
2025-06-09 03:42:34,702 | [92mINFO[0m: [92mSpawnProcess-1:60 search 30s: actual_dur=30.0503s, count=195, qps in this process: 6.4891[0m (mp_runner.py:91) (2284754)
2025-06-09 03:42:34,704 | [92mINFO[0m: [92mSpawnProcess-1:18 search 30s: actual_dur=30.1156s, count=197, qps in this process: 6.5415[0m (mp_runner.py:91) (2284321)
2025-06-09 03:42:34,716 | [92mINFO[0m: [92mSpawnProcess-1:33 search 30s: actual_dur=30.0531s, count=204, qps in this process: 6.788[0m (mp_runner.py:91) (2284374)
2025-06-09 03:42:34,716 | [92mINFO[0m: [92mSpawnProcess-1:51 search 30s: actual_dur=30.0659s, count=200, qps in this process: 6.6521[0m (mp_runner.py:91) (2284660)
2025-06-09 03:42:34,717 | [92mINFO[0m: [92mSpawnProcess-1:17 search 30s: actual_dur=30.0754s, count=199, qps in this process: 6.6167[0m (mp_runner.py:91) (2284320)
2025-06-09 03:42:34,719 | [92mINFO[0m: [92mSpawnProcess-1:16 search 30s: actual_dur=30.0591s, count=195, qps in this process: 6.4872[0m (mp_runner.py:91) (2284312)
2025-06-09 03:42:34,720 | [92mINFO[0m: [92mSpawnProcess-1:2 search 30s: actual_dur=30.0782s, count=201, qps in this process: 6.6826[0m (mp_runner.py:91) (2284296)
2025-06-09 03:42:34,720 | [92mINFO[0m: [92mSpawnProcess-1:35 search 30s: actual_dur=30.0111s, count=190, qps in this process: 6.331[0m (mp_runner.py:91) (2284376)
2025-06-09 03:42:34,720 | [92mINFO[0m: [92mSpawnProcess-1:37 search 30s: actual_dur=30.0641s, count=196, qps in this process: 6.5194[0m (mp_runner.py:91) (2284397)
2025-06-09 03:42:34,720 | [92mINFO[0m: [92mSpawnProcess-1:41 search 30s: actual_dur=30.1281s, count=192, qps in this process: 6.3728[0m (mp_runner.py:91) (2284459)
2025-06-09 03:42:34,721 | [92mINFO[0m: [92mSpawnProcess-1:13 search 30s: actual_dur=30.0265s, count=196, qps in this process: 6.5276[0m (mp_runner.py:91) (2284309)
2025-06-09 03:42:34,721 | [92mINFO[0m: [92mSpawnProcess-1:19 search 30s: actual_dur=30.0946s, count=204, qps in this process: 6.7786[0m (mp_runner.py:91) (2284322)
2025-06-09 03:42:34,721 | [92mINFO[0m: [92mSpawnProcess-1:7 search 30s: actual_dur=30.1248s, count=196, qps in this process: 6.5063[0m (mp_runner.py:91) (2284303)
2025-06-09 03:42:34,721 | [92mINFO[0m: [92mSpawnProcess-1:40 search 30s: actual_dur=30.0762s, count=199, qps in this process: 6.6165[0m (mp_runner.py:91) (2284439)
2025-06-09 03:42:34,721 | [92mINFO[0m: [92mSpawnProcess-1:28 search 30s: actual_dur=30.0217s, count=199, qps in this process: 6.6285[0m (mp_runner.py:91) (2284369)
2025-06-09 03:42:34,721 | [92mINFO[0m: [92mSpawnProcess-1:12 search 30s: actual_dur=30.0717s, count=205, qps in this process: 6.817[0m (mp_runner.py:91) (2284308)
2025-06-09 03:42:34,722 | [92mINFO[0m: [92mSpawnProcess-1:47 search 30s: actual_dur=30.0245s, count=189, qps in this process: 6.2949[0m (mp_runner.py:91) (2284637)
2025-06-09 03:42:34,722 | [92mINFO[0m: [92mSpawnProcess-1:36 search 30s: actual_dur=30.0168s, count=195, qps in this process: 6.4964[0m (mp_runner.py:91) (2284377)
2025-06-09 03:42:34,722 | [92mINFO[0m: [92mSpawnProcess-1:59 search 30s: actual_dur=30.0789s, count=191, qps in this process: 6.35[0m (mp_runner.py:91) (2284749)
2025-06-09 03:42:34,723 | [92mINFO[0m: [92mSpawnProcess-1:34 search 30s: actual_dur=30.0215s, count=198, qps in this process: 6.5953[0m (mp_runner.py:91) (2284375)
2025-06-09 03:42:34,723 | [92mINFO[0m: [92mSpawnProcess-1:20 search 30s: actual_dur=30.0775s, count=198, qps in this process: 6.583[0m (mp_runner.py:91) (2284323)
2025-06-09 03:42:34,724 | [92mINFO[0m: [92mSpawnProcess-1:4 search 30s: actual_dur=30.1349s, count=191, qps in this process: 6.3382[0m (mp_runner.py:91) (2284300)
2025-06-09 03:42:34,724 | [92mINFO[0m: [92mSpawnProcess-1:15 search 30s: actual_dur=30.1342s, count=197, qps in this process: 6.5374[0m (mp_runner.py:91) (2284311)
2025-06-09 03:42:34,725 | [92mINFO[0m: [92mSpawnProcess-1:64 search 30s: actual_dur=30.0143s, count=195, qps in this process: 6.4969[0m (mp_runner.py:91) (2284763)
2025-06-09 03:42:34,726 | [92mINFO[0m: [92mSpawnProcess-1:42 search 30s: actual_dur=30.1189s, count=200, qps in this process: 6.6403[0m (mp_runner.py:91) (2284477)
2025-06-09 03:42:34,737 | [92mINFO[0m: [92mSpawnProcess-1:45 search 30s: actual_dur=30.012s, count=194, qps in this process: 6.4641[0m (mp_runner.py:91) (2284634)
2025-06-09 03:42:34,738 | [92mINFO[0m: [92mSpawnProcess-1:50 search 30s: actual_dur=30.0379s, count=196, qps in this process: 6.5251[0m (mp_runner.py:91) (2284659)
2025-06-09 03:42:34,739 | [92mINFO[0m: [92mSpawnProcess-1:32 search 30s: actual_dur=30.0864s, count=206, qps in this process: 6.8469[0m (mp_runner.py:91) (2284373)
2025-06-09 03:42:34,760 | [92mINFO[0m: [92mSpawnProcess-1:22 search 30s: actual_dur=30.0458s, count=201, qps in this process: 6.6898[0m (mp_runner.py:91) (2284325)
2025-06-09 03:42:34,762 | [92mINFO[0m: [92mSpawnProcess-1:5 search 30s: actual_dur=30.1297s, count=201, qps in this process: 6.6712[0m (mp_runner.py:91) (2284301)
2025-06-09 03:42:34,763 | [92mINFO[0m: [92mSpawnProcess-1:21 search 30s: actual_dur=30.1257s, count=209, qps in this process: 6.9376[0m (mp_runner.py:91) (2284324)
2025-06-09 03:42:34,769 | [92mINFO[0m: [92mSpawnProcess-1:49 search 30s: actual_dur=30.1281s, count=208, qps in this process: 6.9039[0m (mp_runner.py:91) (2284658)
2025-06-09 03:42:34,774 | [92mINFO[0m: [92mSpawnProcess-1:30 search 30s: actual_dur=30.1152s, count=196, qps in this process: 6.5083[0m (mp_runner.py:91) (2284371)
2025-06-09 03:42:34,775 | [92mINFO[0m: [92mSpawnProcess-1:27 search 30s: actual_dur=30.1403s, count=201, qps in this process: 6.6688[0m (mp_runner.py:91) (2284349)
2025-06-09 03:42:34,775 | [92mINFO[0m: [92mSpawnProcess-1:38 search 30s: actual_dur=30.1133s, count=195, qps in this process: 6.4755[0m (mp_runner.py:91) (2284417)
2025-06-09 03:42:34,777 | [92mINFO[0m: [92mSpawnProcess-1:44 search 30s: actual_dur=30.1251s, count=207, qps in this process: 6.8713[0m (mp_runner.py:91) (2284614)
2025-06-09 03:42:34,777 | [92mINFO[0m: [92mSpawnProcess-1:57 search 30s: actual_dur=30.0813s, count=197, qps in this process: 6.5489[0m (mp_runner.py:91) (2284745)
2025-06-09 03:42:34,777 | [92mINFO[0m: [92mSpawnProcess-1:52 search 30s: actual_dur=30.0679s, count=198, qps in this process: 6.5851[0m (mp_runner.py:91) (2284680)
2025-06-09 03:42:34,778 | [92mINFO[0m: [92mSpawnProcess-1:11 search 30s: actual_dur=30.0976s, count=199, qps in this process: 6.6118[0m (mp_runner.py:91) (2284307)
2025-06-09 03:42:34,778 | [92mINFO[0m: [92mSpawnProcess-1:58 search 30s: actual_dur=30.0582s, count=196, qps in this process: 6.5207[0m (mp_runner.py:91) (2284748)
2025-06-09 03:42:34,778 | [92mINFO[0m: [92mSpawnProcess-1:46 search 30s: actual_dur=30.0527s, count=199, qps in this process: 6.6217[0m (mp_runner.py:91) (2284636)
2025-06-09 03:42:34,778 | [92mINFO[0m: [92mSpawnProcess-1:43 search 30s: actual_dur=30.067s, count=189, qps in this process: 6.286[0m (mp_runner.py:91) (2284554)
2025-06-09 03:42:34,778 | [92mINFO[0m: [92mSpawnProcess-1:39 search 30s: actual_dur=30.069s, count=200, qps in this process: 6.6514[0m (mp_runner.py:91) (2284438)
2025-06-09 03:42:34,778 | [92mINFO[0m: [92mSpawnProcess-1:61 search 30s: actual_dur=30.065s, count=198, qps in this process: 6.5857[0m (mp_runner.py:91) (2284756)
2025-06-09 03:42:34,779 | [92mINFO[0m: [92mSpawnProcess-1:26 search 30s: actual_dur=30.1241s, count=192, qps in this process: 6.3736[0m (mp_runner.py:91) (2284348)
2025-06-09 03:42:34,779 | [92mINFO[0m: [92mSpawnProcess-1:48 search 30s: actual_dur=30.1359s, count=200, qps in this process: 6.6366[0m (mp_runner.py:91) (2284638)
2025-06-09 03:42:34,779 | [92mINFO[0m: [92mSpawnProcess-1:65 search 30s: actual_dur=30.059s, count=200, qps in this process: 6.6536[0m (mp_runner.py:91) (2284795)
2025-06-09 03:42:34,781 | [92mINFO[0m: [92mSpawnProcess-1:8 search 30s: actual_dur=30.1404s, count=198, qps in this process: 6.5693[0m (mp_runner.py:91) (2284304)
2025-06-09 03:42:34,782 | [92mINFO[0m: [92mSpawnProcess-1:53 search 30s: actual_dur=30.0759s, count=202, qps in this process: 6.7163[0m (mp_runner.py:91) (2284700)
2025-06-09 03:42:34,785 | [92mINFO[0m: [92mSpawnProcess-1:29 search 30s: actual_dur=30.0932s, count=197, qps in this process: 6.5463[0m (mp_runner.py:91) (2284370)
2025-06-09 03:42:34,786 | [92mINFO[0m: [92mSpawnProcess-1:55 search 30s: actual_dur=30.0653s, count=195, qps in this process: 6.4859[0m (mp_runner.py:91) (2284703)
2025-06-09 03:42:34,786 | [92mINFO[0m: [92mSpawnProcess-1:62 search 30s: actual_dur=30.096s, count=190, qps in this process: 6.3131[0m (mp_runner.py:91) (2284761)
2025-06-09 03:42:34,786 | [92mINFO[0m: [92mSpawnProcess-1:54 search 30s: actual_dur=30.1397s, count=199, qps in this process: 6.6026[0m (mp_runner.py:91) (2284701)
2025-06-09 03:42:34,786 | [92mINFO[0m: [92mSpawnProcess-1:24 search 30s: actual_dur=30.123s, count=197, qps in this process: 6.5399[0m (mp_runner.py:91) (2284327)
2025-06-09 03:42:34,788 | [92mINFO[0m: [92mSpawnProcess-1:63 search 30s: actual_dur=30.0676s, count=196, qps in this process: 6.5186[0m (mp_runner.py:91) (2284762)
2025-06-09 03:42:34,794 | [92mINFO[0m: [92mEnd search in concurrency 64: dur=30.22818712500157s, total_count=12639, qps=418.1197[0m (mp_runner.py:139) (2284138)
2025-06-09 03:42:35,820 | [92mINFO[0m: [92mUpdate largest qps with concurrency 64: current max_qps=418.1197[0m (mp_runner.py:143) (2284138)
2025-06-09 03:42:36,702 | [92mINFO[0m: [92mSpawnProcess-1:66 start search the entire test_data to get recall and latency[0m (serial_runner.py:206) (2289221)
2025-06-09 03:42:43,551 | [92mINFO[0m: [92mSpawnProcess-1:66 search entire test_data: cost=5.3031s, queries=1000, avg_recall=0.9765, avg_ndcg=0.9775,avg_latency=0.0053, p99=0.006[0m (serial_runner.py:251) (2289221)
2025-06-09 03:42:43,706 | [92mINFO[0m: [92mPerformance case got result: Metric(max_load_count=0, load_duration=0.0, qps=418.1197, serial_latency_p99=np.float64(0.006), recall=np.float64(0.9765), ndcg=np.float64(0.9775), conc_num_list=[64], conc_qps_list=[418.1197], conc_latency_p99_list=[np.float64(0.238374847681116)], conc_latency_avg_list=[np.float64(0.1522641722788967)])[0m (task_runner.py:186) (2284138)
2025-06-09 03:42:43,707 | [92mINFO[0m: [92m[1/1] finish case: {'label': <CaseLabel.Performance: 2>, 'dataset': {'data': {'name': 'OpenAI', 'size': 5000000, 'dim': 1536, 'metric_type': <MetricType.COSINE: 'COSINE'>}}, 'db': 'Milvus-milvus_diskann_openai_5m'}, result=Metric(max_load_count=0, load_duration=0.0, qps=418.1197, serial_latency_p99=np.float64(0.006), recall=np.float64(0.9765), ndcg=np.float64(0.9775), conc_num_list=[64], conc_qps_list=[418.1197], conc_latency_p99_list=[np.float64(0.238374847681116)], conc_latency_avg_list=[np.float64(0.1522641722788967)]), label=ResultLabel.NORMAL[0m (interface.py:174) (2284138)
2025-06-09 03:42:43,707 | INFO |Task summary: run_id=90720, task_label=90720458e3b74b668628492ef4a0bdd7 (models.py:375)
2025-06-09 03:42:43,707 | INFO |DB     | db_label                    case               label                            | load_dur    qps         latency(p99)    recall        max_load_count | label (models.py:375)
2025-06-09 03:42:43,707 | INFO |------ | --------------------------- ------------------ -------------------------------- | ----------- ----------- --------------- ------------- -------------- | ----- (models.py:375)
2025-06-09 03:42:43,707 | INFO |Milvus | milvus_diskann_openai_5m    Performance1536D5M 90720458e3b74b668628492ef4a0bdd7 | 0.0         418.1197    0.006           0.9765        0              | :)    (models.py:375)
2025-06-09 03:42:43,707 | [92mINFO[0m: [92mwrite results to disk /home/zebin/2025-vectordb-bench-new/VectorDBBench-dev/vectordb_bench/results/Milvus/result_20250609_90720458e3b74b668628492ef4a0bdd7_milvus.json[0m (models.py:243) (2284138)
2025-06-09 03:42:43,708 | [92mINFO[0m: [92mSuccess to finish task: label=90720458e3b74b668628492ef4a0bdd7, run_id=90720458e3b74b668628492ef4a0bdd7[0m (interface.py:213) (2284138)
