2025-06-14 17:41:15,675 | [92mINFO[0m: [92mTask:
TaskConfig(db=<DB.LanceDB: 'LanceDB'>, db_config=LanceDBConfig(db_label='2025-06-14T17:41:15.634357', version='', note='', uri='/mnt/vectordb/nvme0n1/lancedb/lancedb-hnsw-openai-500k', token=None), db_case_config=LanceDBHNSWIndexConfig(index=<IndexType.HNSW: 'HNSW'>, metric_type=<MetricType.L2: 'L2'>, num_partitions=0, num_sub_vectors=0, nbits=8, sample_rate=256, max_iterations=50, nprobes=0, m=16, ef_construction=200, ef=34), case_config=CaseConfig(case_id=<CaseType.Performance1536D500K: 10>, custom_case={}, k=10, concurrency_search_config=ConcurrencySearchConfig(num_concurrency=[64], concurrency_duration=30, concurrency_timeout=3600)), stages=['search_concurrent'])
[0m (cli.py:516) (1566029)
2025-06-14 17:41:15,675 | [92mINFO[0m: [92mgenerated uuid for the tasks: 4cc035d0100643c1a31a09bde474cdb8[0m (interface.py:72) (1566029)
2025-06-14 17:41:15,856 | INFO | DB             | CaseType     Dataset               Filter | task_label (task_runner.py:340)
2025-06-14 17:41:15,856 | INFO | -----------    | ------------ -------------------- ------- | -------    (task_runner.py:340)
2025-06-14 17:41:15,856 | INFO | LanceDB-2025-06-14T17:41:15.634357 | Performance  OpenAI-MEDIUM-500K      None | 4cc035d0100643c1a31a09bde474cdb8 (task_runner.py:340)
2025-06-14 17:41:15,856 | [92mINFO[0m: [92mtask submitted: id=4cc035d0100643c1a31a09bde474cdb8, 4cc035d0100643c1a31a09bde474cdb8, case number: 1[0m (interface.py:242) (1566029)
2025-06-14 17:41:16,523 | [92mINFO[0m: [92m[1/1] start case: {'label': <CaseLabel.Performance: 2>, 'dataset': {'data': {'name': 'OpenAI', 'size': 500000, 'dim': 1536, 'metric_type': <MetricType.COSINE: 'COSINE'>}}, 'db': 'LanceDB-2025-06-14T17:41:15.634357'}, drop_old=False[0m (interface.py:172) (1566066)
2025-06-14 17:41:16,523 | [92mINFO[0m: [92mStarting run[0m (task_runner.py:105) (1566066)
2025-06-14 17:41:16,640 | [92mINFO[0m: [92mSearch config: {'ef': 34}[0m (lancedb.py:38) (1566066)
2025-06-14 17:41:18,061 | [92mINFO[0m: [92mRead the entire file into memory: test.parquet[0m (dataset.py:251) (1566066)
2025-06-14 17:41:18,211 | [92mINFO[0m: [92mRead the entire file into memory: neighbors.parquet[0m (dataset.py:251) (1566066)
2025-06-14 17:41:18,295 | [92mINFO[0m: [92mStart performance case[0m (task_runner.py:147) (1566066)
2025-06-14 17:41:19,087 | [92mINFO[0m: [92mStart search 30s in concurrency 64, filters: None[0m (mp_runner.py:118) (1566066)
2025-06-14 17:41:30,051 | [92mINFO[0m: [92mSyncing all process and start concurrency search, concurrency=64[0m (mp_runner.py:125) (1566066)
2025-06-14 17:42:00,623 | [92mINFO[0m: [92mSpawnProcess-1:16 search 30s: actual_dur=30.5525s, count=700, qps in this process: 22.9114[0m (mp_runner.py:91) (1566231)
2025-06-14 17:42:00,832 | [92mINFO[0m: [92mSpawnProcess-1:22 search 30s: actual_dur=30.761s, count=624, qps in this process: 20.2854[0m (mp_runner.py:91) (1566237)
2025-06-14 17:42:00,945 | [92mINFO[0m: [92mSpawnProcess-1:54 search 30s: actual_dur=30.8146s, count=603, qps in this process: 19.5686[0m (mp_runner.py:91) (1566625)
2025-06-14 17:42:00,989 | [92mINFO[0m: [92mSpawnProcess-1:35 search 30s: actual_dur=30.9168s, count=628, qps in this process: 20.3126[0m (mp_runner.py:91) (1566384)
2025-06-14 17:42:01,012 | [92mINFO[0m: [92mSpawnProcess-1:56 search 30s: actual_dur=30.9247s, count=699, qps in this process: 22.6033[0m (mp_runner.py:91) (1566646)
2025-06-14 17:42:01,021 | [92mINFO[0m: [92mSpawnProcess-1:31 search 30s: actual_dur=30.9339s, count=610, qps in this process: 19.7195[0m (mp_runner.py:91) (1566284)
2025-06-14 17:42:01,054 | [92mINFO[0m: [92mSpawnProcess-1:32 search 30s: actual_dur=30.9577s, count=573, qps in this process: 18.5091[0m (mp_runner.py:91) (1566381)
2025-06-14 17:42:01,057 | [92mINFO[0m: [92mSpawnProcess-1:45 search 30s: actual_dur=30.9633s, count=600, qps in this process: 19.3778[0m (mp_runner.py:91) (1566567)
2025-06-14 17:42:01,058 | [92mINFO[0m: [92mSpawnProcess-1:58 search 30s: actual_dur=30.9552s, count=594, qps in this process: 19.189[0m (mp_runner.py:91) (1566668)
2025-06-14 17:42:01,067 | [92mINFO[0m: [92mSpawnProcess-1:62 search 30s: actual_dur=30.969s, count=638, qps in this process: 20.6012[0m (mp_runner.py:91) (1566692)
2025-06-14 17:42:01,075 | [92mINFO[0m: [92mSpawnProcess-1:30 search 30s: actual_dur=30.947s, count=670, qps in this process: 21.6499[0m (mp_runner.py:91) (1566264)
2025-06-14 17:42:01,079 | [92mINFO[0m: [92mSpawnProcess-1:11 search 30s: actual_dur=30.993s, count=615, qps in this process: 19.8432[0m (mp_runner.py:91) (1566226)
2025-06-14 17:42:01,080 | [92mINFO[0m: [92mSpawnProcess-1:64 search 30s: actual_dur=30.9745s, count=596, qps in this process: 19.2416[0m (mp_runner.py:91) (1566694)
2025-06-14 17:42:01,084 | [92mINFO[0m: [92mSpawnProcess-1:2 search 30s: actual_dur=30.9538s, count=614, qps in this process: 19.836[0m (mp_runner.py:91) (1566215)
2025-06-14 17:42:01,094 | [92mINFO[0m: [92mSpawnProcess-1:34 search 30s: actual_dur=30.929s, count=678, qps in this process: 21.9212[0m (mp_runner.py:91) (1566383)
2025-06-14 17:42:01,096 | [92mINFO[0m: [92mSpawnProcess-1:23 search 30s: actual_dur=30.9825s, count=705, qps in this process: 22.7548[0m (mp_runner.py:91) (1566238)
2025-06-14 17:42:01,113 | [92mINFO[0m: [92mSpawnProcess-1:19 search 30s: actual_dur=31.0191s, count=712, qps in this process: 22.9536[0m (mp_runner.py:91) (1566234)
2025-06-14 17:42:01,133 | [92mINFO[0m: [92mSpawnProcess-1:57 search 30s: actual_dur=30.9995s, count=647, qps in this process: 20.8713[0m (mp_runner.py:91) (1566648)
2025-06-14 17:42:01,154 | [92mINFO[0m: [92mSpawnProcess-1:42 search 30s: actual_dur=31.0133s, count=594, qps in this process: 19.1531[0m (mp_runner.py:91) (1566467)
2025-06-14 17:42:01,159 | [92mINFO[0m: [92mSpawnProcess-1:40 search 30s: actual_dur=31.062s, count=622, qps in this process: 20.0245[0m (mp_runner.py:91) (1566465)
2025-06-14 17:42:01,197 | [92mINFO[0m: [92mSpawnProcess-1:29 search 30s: actual_dur=31.0945s, count=659, qps in this process: 21.1935[0m (mp_runner.py:91) (1566263)
2025-06-14 17:42:01,203 | [92mINFO[0m: [92mSpawnProcess-1:17 search 30s: actual_dur=31.0938s, count=661, qps in this process: 21.2583[0m (mp_runner.py:91) (1566232)
2025-06-14 17:42:01,204 | [92mINFO[0m: [92mSpawnProcess-1:65 search 30s: actual_dur=31.1109s, count=712, qps in this process: 22.8859[0m (mp_runner.py:91) (1566696)
2025-06-14 17:42:01,212 | [92mINFO[0m: [92mSpawnProcess-1:46 search 30s: actual_dur=31.1123s, count=588, qps in this process: 18.8993[0m (mp_runner.py:91) (1566569)
2025-06-14 17:42:01,216 | [92mINFO[0m: [92mSpawnProcess-1:36 search 30s: actual_dur=31.0922s, count=544, qps in this process: 17.4963[0m (mp_runner.py:91) (1566385)
2025-06-14 17:42:01,234 | [92mINFO[0m: [92mSpawnProcess-1:14 search 30s: actual_dur=31.1412s, count=558, qps in this process: 17.9184[0m (mp_runner.py:91) (1566229)
2025-06-14 17:42:01,240 | [92mINFO[0m: [92mSpawnProcess-1:26 search 30s: actual_dur=31.1449s, count=680, qps in this process: 21.8334[0m (mp_runner.py:91) (1566260)
2025-06-14 17:42:01,248 | [92mINFO[0m: [92mSpawnProcess-1:39 search 30s: actual_dur=31.1119s, count=607, qps in this process: 19.5102[0m (mp_runner.py:91) (1566464)
2025-06-14 17:42:01,257 | [92mINFO[0m: [92mSpawnProcess-1:51 search 30s: actual_dur=31.1752s, count=563, qps in this process: 18.0592[0m (mp_runner.py:91) (1566601)
2025-06-14 17:42:01,268 | [92mINFO[0m: [92mSpawnProcess-1:48 search 30s: actual_dur=31.1807s, count=616, qps in this process: 19.7558[0m (mp_runner.py:91) (1566576)
2025-06-14 17:42:01,336 | [92mINFO[0m: [92mSpawnProcess-1:59 search 30s: actual_dur=31.2363s, count=656, qps in this process: 21.0012[0m (mp_runner.py:91) (1566669)
2025-06-14 17:42:01,337 | [92mINFO[0m: [92mSpawnProcess-1:25 search 30s: actual_dur=31.241s, count=599, qps in this process: 19.1735[0m (mp_runner.py:91) (1566259)
2025-06-14 17:42:01,362 | [92mINFO[0m: [92mSpawnProcess-1:4 search 30s: actual_dur=31.2818s, count=717, qps in this process: 22.9207[0m (mp_runner.py:91) (1566219)
2025-06-14 17:42:01,375 | [92mINFO[0m: [92mSpawnProcess-1:13 search 30s: actual_dur=31.3011s, count=616, qps in this process: 19.6798[0m (mp_runner.py:91) (1566228)
2025-06-14 17:42:01,384 | [92mINFO[0m: [92mSpawnProcess-1:50 search 30s: actual_dur=31.261s, count=631, qps in this process: 20.1849[0m (mp_runner.py:91) (1566580)
2025-06-14 17:42:01,408 | [92mINFO[0m: [92mSpawnProcess-1:28 search 30s: actual_dur=31.3129s, count=691, qps in this process: 22.0676[0m (mp_runner.py:91) (1566262)
2025-06-14 17:42:01,411 | [92mINFO[0m: [92mSpawnProcess-1:12 search 30s: actual_dur=31.3363s, count=711, qps in this process: 22.6893[0m (mp_runner.py:91) (1566227)
2025-06-14 17:42:01,416 | [92mINFO[0m: [92mSpawnProcess-1:47 search 30s: actual_dur=31.3282s, count=735, qps in this process: 23.4613[0m (mp_runner.py:91) (1566572)
2025-06-14 17:42:01,417 | [92mINFO[0m: [92mSpawnProcess-1:21 search 30s: actual_dur=31.289s, count=718, qps in this process: 22.9474[0m (mp_runner.py:91) (1566236)
2025-06-14 17:42:01,430 | [92mINFO[0m: [92mSpawnProcess-1:8 search 30s: actual_dur=31.3588s, count=623, qps in this process: 19.8668[0m (mp_runner.py:91) (1566223)
2025-06-14 17:42:01,437 | [92mINFO[0m: [92mSpawnProcess-1:9 search 30s: actual_dur=31.3544s, count=723, qps in this process: 23.059[0m (mp_runner.py:91) (1566224)
2025-06-14 17:42:01,453 | [92mINFO[0m: [92mSpawnProcess-1:15 search 30s: actual_dur=31.367s, count=701, qps in this process: 22.3483[0m (mp_runner.py:91) (1566230)
2025-06-14 17:42:01,455 | [92mINFO[0m: [92mSpawnProcess-1:61 search 30s: actual_dur=31.35s, count=618, qps in this process: 19.7129[0m (mp_runner.py:91) (1566672)
2025-06-14 17:42:01,457 | [92mINFO[0m: [92mSpawnProcess-1:33 search 30s: actual_dur=31.3536s, count=690, qps in this process: 22.007[0m (mp_runner.py:91) (1566382)
2025-06-14 17:42:01,460 | [92mINFO[0m: [92mSpawnProcess-1:63 search 30s: actual_dur=31.3758s, count=543, qps in this process: 17.3063[0m (mp_runner.py:91) (1566693)
2025-06-14 17:42:01,466 | [92mINFO[0m: [92mSpawnProcess-1:53 search 30s: actual_dur=31.3714s, count=736, qps in this process: 23.4609[0m (mp_runner.py:91) (1566624)
2025-06-14 17:42:01,467 | [92mINFO[0m: [92mSpawnProcess-1:24 search 30s: actual_dur=31.3954s, count=550, qps in this process: 17.5185[0m (mp_runner.py:91) (1566239)
2025-06-14 17:42:01,467 | [92mINFO[0m: [92mSpawnProcess-1:44 search 30s: actual_dur=31.3624s, count=638, qps in this process: 20.3428[0m (mp_runner.py:91) (1566488)
2025-06-14 17:42:01,470 | [92mINFO[0m: [92mSpawnProcess-1:20 search 30s: actual_dur=31.3919s, count=644, qps in this process: 20.5148[0m (mp_runner.py:91) (1566235)
2025-06-14 17:42:01,470 | [92mINFO[0m: [92mSpawnProcess-1:18 search 30s: actual_dur=31.3419s, count=580, qps in this process: 18.5056[0m (mp_runner.py:91) (1566233)
2025-06-14 17:42:01,471 | [92mINFO[0m: [92mSpawnProcess-1:10 search 30s: actual_dur=31.3895s, count=659, qps in this process: 20.9943[0m (mp_runner.py:91) (1566225)
2025-06-14 17:42:01,479 | [92mINFO[0m: [92mSpawnProcess-1:5 search 30s: actual_dur=31.4009s, count=564, qps in this process: 17.9613[0m (mp_runner.py:91) (1566220)
2025-06-14 17:42:01,497 | [92mINFO[0m: [92mSpawnProcess-1:60 search 30s: actual_dur=31.384s, count=767, qps in this process: 24.4392[0m (mp_runner.py:91) (1566671)
2025-06-14 17:42:01,503 | [92mINFO[0m: [92mSpawnProcess-1:7 search 30s: actual_dur=31.419s, count=592, qps in this process: 18.8421[0m (mp_runner.py:91) (1566222)
2025-06-14 17:42:01,506 | [92mINFO[0m: [92mSpawnProcess-1:43 search 30s: actual_dur=31.4029s, count=733, qps in this process: 23.3418[0m (mp_runner.py:91) (1566468)
2025-06-14 17:42:01,508 | [92mINFO[0m: [92mSpawnProcess-1:38 search 30s: actual_dur=31.4399s, count=725, qps in this process: 23.0599[0m (mp_runner.py:91) (1566425)
2025-06-14 17:42:01,511 | [92mINFO[0m: [92mSpawnProcess-1:3 search 30s: actual_dur=31.4384s, count=561, qps in this process: 17.8444[0m (mp_runner.py:91) (1566218)
2025-06-14 17:42:01,516 | [92mINFO[0m: [92mSpawnProcess-1:41 search 30s: actual_dur=31.4138s, count=627, qps in this process: 19.9594[0m (mp_runner.py:91) (1566466)
2025-06-14 17:42:01,526 | [92mINFO[0m: [92mSpawnProcess-1:52 search 30s: actual_dur=31.4243s, count=613, qps in this process: 19.5072[0m (mp_runner.py:91) (1566623)
2025-06-14 17:42:01,529 | [92mINFO[0m: [92mSpawnProcess-1:27 search 30s: actual_dur=31.4256s, count=649, qps in this process: 20.652[0m (mp_runner.py:91) (1566261)
2025-06-14 17:42:01,533 | [92mINFO[0m: [92mSpawnProcess-1:49 search 30s: actual_dur=31.4621s, count=665, qps in this process: 21.1365[0m (mp_runner.py:91) (1566578)
2025-06-14 17:42:01,535 | [92mINFO[0m: [92mSpawnProcess-1:55 search 30s: actual_dur=31.4435s, count=687, qps in this process: 21.8487[0m (mp_runner.py:91) (1566626)
2025-06-14 17:42:01,540 | [92mINFO[0m: [92mSpawnProcess-1:37 search 30s: actual_dur=31.4081s, count=685, qps in this process: 21.8097[0m (mp_runner.py:91) (1566405)
2025-06-14 17:42:01,543 | [92mINFO[0m: [92mSpawnProcess-1:6 search 30s: actual_dur=31.4022s, count=614, qps in this process: 19.5528[0m (mp_runner.py:91) (1566221)
2025-06-14 17:42:01,559 | [92mINFO[0m: [92mEnd search in concurrency 64: dur=31.50696932799474s, total_count=41171, qps=1306.7268[0m (mp_runner.py:139) (1566066)
2025-06-14 17:42:02,933 | [92mINFO[0m: [92mUpdate largest qps with concurrency 64: current max_qps=1306.7268[0m (mp_runner.py:143) (1566066)
2025-06-14 17:42:02,934 | [92mINFO[0m: [92mPerformance case got result: Metric(max_load_count=0, load_duration=0.0, qps=1306.7268, serial_latency_p99=0.0, recall=0.0, ndcg=0.0, conc_num_list=[64], conc_qps_list=[1306.7268], conc_latency_p99_list=[np.float64(0.14290837529988532)], conc_latency_avg_list=[np.float64(0.0466681940500375)])[0m (task_runner.py:186) (1566066)
2025-06-14 17:42:02,934 | [92mINFO[0m: [92m[1/1] finish case: {'label': <CaseLabel.Performance: 2>, 'dataset': {'data': {'name': 'OpenAI', 'size': 500000, 'dim': 1536, 'metric_type': <MetricType.COSINE: 'COSINE'>}}, 'db': 'LanceDB-2025-06-14T17:41:15.634357'}, result=Metric(max_load_count=0, load_duration=0.0, qps=1306.7268, serial_latency_p99=0.0, recall=0.0, ndcg=0.0, conc_num_list=[64], conc_qps_list=[1306.7268], conc_latency_p99_list=[np.float64(0.14290837529988532)], conc_latency_avg_list=[np.float64(0.0466681940500375)]), label=ResultLabel.NORMAL[0m (interface.py:174) (1566066)
2025-06-14 17:42:02,935 | INFO |Task summary: run_id=4cc03, task_label=4cc035d0100643c1a31a09bde474cdb8 (models.py:375)
2025-06-14 17:42:02,935 | INFO |DB      | db_label                      case                 label                            | load_dur    qps          latency(p99)    recall        max_load_count | label (models.py:375)
2025-06-14 17:42:02,935 | INFO |------- | ----------------------------- -------------------- -------------------------------- | ----------- ------------ --------------- ------------- -------------- | ----- (models.py:375)
2025-06-14 17:42:02,935 | INFO |LanceDB | 2025-06-14T17:41:15.634357    Performance1536D500K 4cc035d0100643c1a31a09bde474cdb8 | 0.0         1306.7268    0.0             0.0           0              | :)    (models.py:375)
2025-06-14 17:42:02,935 | [92mINFO[0m: [92mwrite results to disk /home/zebin/2025-vectordb-bench-new/VectorDBBench-dev/vectordb_bench/results/LanceDB/result_20250614_4cc035d0100643c1a31a09bde474cdb8_lancedb.json[0m (models.py:243) (1566066)
2025-06-14 17:42:02,936 | [92mINFO[0m: [92mSuccess to finish task: label=4cc035d0100643c1a31a09bde474cdb8, run_id=4cc035d0100643c1a31a09bde474cdb8[0m (interface.py:213) (1566066)
