2025-06-14 15:24:21,174 | [92mINFO[0m: [92mTask:
TaskConfig(db=<DB.LanceDB: 'LanceDB'>, db_config=LanceDBConfig(db_label='2025-06-14T15:24:21.133210', version='', note='', uri='/mnt/vectordb/nvme0n1/lancedb/lancedb-ivfpq-openai-500k', token=None), db_case_config=LanceDBIndexConfig(index=<IndexType.IVFPQ: 'IVF_PQ'>, metric_type=<MetricType.L2: 'L2'>, num_partitions=2828, num_sub_vectors=0, nbits=8, sample_rate=256, max_iterations=50, nprobes=16), case_config=CaseConfig(case_id=<CaseType.Performance1536D500K: 10>, custom_case={}, k=10, concurrency_search_config=ConcurrencySearchConfig(num_concurrency=[32], concurrency_duration=30, concurrency_timeout=3600)), stages=['search_concurrent'])
[0m (cli.py:516) (1136806)
2025-06-14 15:24:21,174 | [92mINFO[0m: [92mgenerated uuid for the tasks: 9157005eda584e70bcc15726288bbc0a[0m (interface.py:72) (1136806)
2025-06-14 15:24:21,356 | INFO | DB             | CaseType     Dataset               Filter | task_label (task_runner.py:340)
2025-06-14 15:24:21,356 | INFO | -----------    | ------------ -------------------- ------- | -------    (task_runner.py:340)
2025-06-14 15:24:21,356 | INFO | LanceDB-2025-06-14T15:24:21.133210 | Performance  OpenAI-MEDIUM-500K      None | 9157005eda584e70bcc15726288bbc0a (task_runner.py:340)
2025-06-14 15:24:21,356 | [92mINFO[0m: [92mtask submitted: id=9157005eda584e70bcc15726288bbc0a, 9157005eda584e70bcc15726288bbc0a, case number: 1[0m (interface.py:242) (1136806)
2025-06-14 15:24:22,017 | [92mINFO[0m: [92m[1/1] start case: {'label': <CaseLabel.Performance: 2>, 'dataset': {'data': {'name': 'OpenAI', 'size': 500000, 'dim': 1536, 'metric_type': <MetricType.COSINE: 'COSINE'>}}, 'db': 'LanceDB-2025-06-14T15:24:21.133210'}, drop_old=False[0m (interface.py:172) (1136843)
2025-06-14 15:24:22,017 | [92mINFO[0m: [92mStarting run[0m (task_runner.py:105) (1136843)
2025-06-14 15:24:22,133 | [92mINFO[0m: [92mSearch config: {'nprobes': 16}[0m (lancedb.py:38) (1136843)
2025-06-14 15:24:23,520 | [92mINFO[0m: [92mRead the entire file into memory: test.parquet[0m (dataset.py:251) (1136843)
2025-06-14 15:24:23,669 | [92mINFO[0m: [92mRead the entire file into memory: neighbors.parquet[0m (dataset.py:251) (1136843)
2025-06-14 15:24:23,752 | [92mINFO[0m: [92mStart performance case[0m (task_runner.py:147) (1136843)
2025-06-14 15:24:24,550 | [92mINFO[0m: [92mStart search 30s in concurrency 32, filters: None[0m (mp_runner.py:118) (1136843)
2025-06-14 15:24:34,794 | [92mINFO[0m: [92mSyncing all process and start concurrency search, concurrency=32[0m (mp_runner.py:125) (1136843)
2025-06-14 15:25:04,885 | [92mINFO[0m: [92mSpawnProcess-1:3 search 30s: actual_dur=30.081s, count=27, qps in this process: 0.8976[0m (mp_runner.py:91) (1136995)
2025-06-14 15:25:04,924 | [92mINFO[0m: [92mSpawnProcess-1:11 search 30s: actual_dur=30.1138s, count=27, qps in this process: 0.8966[0m (mp_runner.py:91) (1137003)
2025-06-14 15:25:04,931 | [92mINFO[0m: [92mSpawnProcess-1:20 search 30s: actual_dur=30.1186s, count=31, qps in this process: 1.0293[0m (mp_runner.py:91) (1137012)
2025-06-14 15:25:04,932 | [92mINFO[0m: [92mSpawnProcess-1:8 search 30s: actual_dur=30.1252s, count=26, qps in this process: 0.8631[0m (mp_runner.py:91) (1137000)
2025-06-14 15:25:04,951 | [92mINFO[0m: [92mSpawnProcess-1:17 search 30s: actual_dur=30.1356s, count=26, qps in this process: 0.8628[0m (mp_runner.py:91) (1137009)
2025-06-14 15:25:05,046 | [92mINFO[0m: [92mSpawnProcess-1:7 search 30s: actual_dur=30.2277s, count=29, qps in this process: 0.9594[0m (mp_runner.py:91) (1136999)
2025-06-14 15:25:05,088 | [92mINFO[0m: [92mSpawnProcess-1:25 search 30s: actual_dur=30.2796s, count=29, qps in this process: 0.9577[0m (mp_runner.py:91) (1137036)
2025-06-14 15:25:05,144 | [92mINFO[0m: [92mSpawnProcess-1:27 search 30s: actual_dur=30.3249s, count=31, qps in this process: 1.0223[0m (mp_runner.py:91) (1137057)
2025-06-14 15:25:05,145 | [92mINFO[0m: [92mSpawnProcess-1:9 search 30s: actual_dur=30.3364s, count=28, qps in this process: 0.923[0m (mp_runner.py:91) (1137001)
2025-06-14 15:25:05,150 | [92mINFO[0m: [92mSpawnProcess-1:6 search 30s: actual_dur=30.3361s, count=28, qps in this process: 0.923[0m (mp_runner.py:91) (1136998)
2025-06-14 15:25:05,160 | [92mINFO[0m: [92mSpawnProcess-1:32 search 30s: actual_dur=30.338s, count=30, qps in this process: 0.9889[0m (mp_runner.py:91) (1137062)
2025-06-14 15:25:05,173 | [92mINFO[0m: [92mSpawnProcess-1:21 search 30s: actual_dur=30.36s, count=28, qps in this process: 0.9223[0m (mp_runner.py:91) (1137013)
2025-06-14 15:25:05,176 | [92mINFO[0m: [92mSpawnProcess-1:23 search 30s: actual_dur=30.3515s, count=27, qps in this process: 0.8896[0m (mp_runner.py:91) (1137015)
2025-06-14 15:25:05,200 | [92mINFO[0m: [92mSpawnProcess-1:12 search 30s: actual_dur=30.3886s, count=27, qps in this process: 0.8885[0m (mp_runner.py:91) (1137004)
2025-06-14 15:25:05,215 | [92mINFO[0m: [92mSpawnProcess-1:14 search 30s: actual_dur=30.4076s, count=29, qps in this process: 0.9537[0m (mp_runner.py:91) (1137006)
2025-06-14 15:25:05,239 | [92mINFO[0m: [92mSpawnProcess-1:5 search 30s: actual_dur=30.4329s, count=29, qps in this process: 0.9529[0m (mp_runner.py:91) (1136997)
2025-06-14 15:25:05,278 | [92mINFO[0m: [92mSpawnProcess-1:4 search 30s: actual_dur=30.4612s, count=28, qps in this process: 0.9192[0m (mp_runner.py:91) (1136996)
2025-06-14 15:25:05,295 | [92mINFO[0m: [92mSpawnProcess-1:15 search 30s: actual_dur=30.4727s, count=28, qps in this process: 0.9189[0m (mp_runner.py:91) (1137007)
2025-06-14 15:25:05,354 | [92mINFO[0m: [92mSpawnProcess-1:22 search 30s: actual_dur=30.5434s, count=30, qps in this process: 0.9822[0m (mp_runner.py:91) (1137014)
2025-06-14 15:25:05,367 | [92mINFO[0m: [92mSpawnProcess-1:16 search 30s: actual_dur=30.5557s, count=28, qps in this process: 0.9164[0m (mp_runner.py:91) (1137008)
2025-06-14 15:25:05,369 | [92mINFO[0m: [92mSpawnProcess-1:13 search 30s: actual_dur=30.5509s, count=30, qps in this process: 0.982[0m (mp_runner.py:91) (1137005)
2025-06-14 15:25:05,439 | [92mINFO[0m: [92mSpawnProcess-1:24 search 30s: actual_dur=30.6184s, count=25, qps in this process: 0.8165[0m (mp_runner.py:91) (1137035)
2025-06-14 15:25:05,467 | [92mINFO[0m: [92mSpawnProcess-1:29 search 30s: actual_dur=30.6457s, count=30, qps in this process: 0.9789[0m (mp_runner.py:91) (1137059)
2025-06-14 15:25:05,481 | [92mINFO[0m: [92mSpawnProcess-1:30 search 30s: actual_dur=30.6606s, count=28, qps in this process: 0.9132[0m (mp_runner.py:91) (1137060)
2025-06-14 15:25:05,516 | [92mINFO[0m: [92mSpawnProcess-1:10 search 30s: actual_dur=30.7061s, count=30, qps in this process: 0.977[0m (mp_runner.py:91) (1137002)
2025-06-14 15:25:05,564 | [92mINFO[0m: [92mSpawnProcess-1:2 search 30s: actual_dur=30.7546s, count=28, qps in this process: 0.9104[0m (mp_runner.py:91) (1136992)
2025-06-14 15:25:05,571 | [92mINFO[0m: [92mSpawnProcess-1:26 search 30s: actual_dur=30.7663s, count=32, qps in this process: 1.0401[0m (mp_runner.py:91) (1137037)
2025-06-14 15:25:05,573 | [92mINFO[0m: [92mSpawnProcess-1:31 search 30s: actual_dur=30.7584s, count=28, qps in this process: 0.9103[0m (mp_runner.py:91) (1137061)
2025-06-14 15:25:05,579 | [92mINFO[0m: [92mSpawnProcess-1:19 search 30s: actual_dur=30.7615s, count=28, qps in this process: 0.9102[0m (mp_runner.py:91) (1137011)
2025-06-14 15:25:05,593 | [92mINFO[0m: [92mSpawnProcess-1:18 search 30s: actual_dur=30.783s, count=28, qps in this process: 0.9096[0m (mp_runner.py:91) (1137010)
2025-06-14 15:25:05,657 | [92mINFO[0m: [92mSpawnProcess-1:28 search 30s: actual_dur=30.8394s, count=29, qps in this process: 0.9404[0m (mp_runner.py:91) (1137058)
2025-06-14 15:25:05,658 | [92mINFO[0m: [92mSpawnProcess-1:33 search 30s: actual_dur=30.8371s, count=32, qps in this process: 1.0377[0m (mp_runner.py:91) (1137063)
2025-06-14 15:25:05,662 | [92mINFO[0m: [92mEnd search in concurrency 32: dur=30.867453107988695s, total_count=914, qps=29.6105[0m (mp_runner.py:139) (1136843)
2025-06-14 15:25:06,680 | [92mINFO[0m: [92mUpdate largest qps with concurrency 32: current max_qps=29.6105[0m (mp_runner.py:143) (1136843)
2025-06-14 15:25:06,681 | [92mINFO[0m: [92mPerformance case got result: Metric(max_load_count=0, load_duration=0.0, qps=29.6105, serial_latency_p99=0.0, recall=0.0, ndcg=0.0, conc_num_list=[32], conc_qps_list=[29.6105], conc_latency_p99_list=[np.float64(1.7055873957683798)], conc_latency_avg_list=[np.float64(1.0650937224605868)])[0m (task_runner.py:186) (1136843)
2025-06-14 15:25:06,681 | [92mINFO[0m: [92m[1/1] finish case: {'label': <CaseLabel.Performance: 2>, 'dataset': {'data': {'name': 'OpenAI', 'size': 500000, 'dim': 1536, 'metric_type': <MetricType.COSINE: 'COSINE'>}}, 'db': 'LanceDB-2025-06-14T15:24:21.133210'}, result=Metric(max_load_count=0, load_duration=0.0, qps=29.6105, serial_latency_p99=0.0, recall=0.0, ndcg=0.0, conc_num_list=[32], conc_qps_list=[29.6105], conc_latency_p99_list=[np.float64(1.7055873957683798)], conc_latency_avg_list=[np.float64(1.0650937224605868)]), label=ResultLabel.NORMAL[0m (interface.py:174) (1136843)
2025-06-14 15:25:06,681 | INFO |Task summary: run_id=91570, task_label=9157005eda584e70bcc15726288bbc0a (models.py:375)
2025-06-14 15:25:06,682 | INFO |DB      | db_label                      case                 label                            | load_dur    qps        latency(p99)    recall        max_load_count | label (models.py:375)
2025-06-14 15:25:06,682 | INFO |------- | ----------------------------- -------------------- -------------------------------- | ----------- ---------- --------------- ------------- -------------- | ----- (models.py:375)
2025-06-14 15:25:06,682 | INFO |LanceDB | 2025-06-14T15:24:21.133210    Performance1536D500K 9157005eda584e70bcc15726288bbc0a | 0.0         29.6105    0.0             0.0           0              | :)    (models.py:375)
2025-06-14 15:25:06,682 | [92mINFO[0m: [92mwrite results to disk /home/zebin/2025-vectordb-bench-new/VectorDBBench-dev/vectordb_bench/results/LanceDB/result_20250614_9157005eda584e70bcc15726288bbc0a_lancedb.json[0m (models.py:243) (1136843)
2025-06-14 15:25:06,683 | [92mINFO[0m: [92mSuccess to finish task: label=9157005eda584e70bcc15726288bbc0a, run_id=9157005eda584e70bcc15726288bbc0a[0m (interface.py:213) (1136843)
